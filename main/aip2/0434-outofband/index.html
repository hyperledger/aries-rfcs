
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../0360-use-did-key/">
      
      
        <link rel="next" href="../0441-present-proof-best-practices/">
      
      
      <link rel="icon" href="https://raw.githubusercontent.com/hyperledger/aries-rfcs/main/collateral/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.21">
    
    
      
        <title>Aries RFC 0434 Out-of-Band Protocol 1.1 - Hyperledger Aries Interoperability Profiles / RFCs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#aries-rfc-0434-out-of-band-protocol-11" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Hyperledger Aries Interoperability Profiles / RFCs" class="md-header__button md-logo" aria-label="Hyperledger Aries Interoperability Profiles / RFCs" data-md-component="logo">
      
  <img src="https://raw.githubusercontent.com/hyperledger/aries-rfcs/main/collateral/Hyperledger_Aries_Logo_White.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hyperledger Aries Interoperability Profiles / RFCs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Aries RFC 0434 Out-of-Band Protocol 1.1
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hyperledger/aries-rfcs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    hyperledger/aries-rfcs
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  Welcome

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../MAINTAINERS/" class="md-tabs__link">
          
  
  Governance

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../0003-protocols/" class="md-tabs__link">
          
  
  AIP 2.0

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../concepts/0003-protocols/" class="md-tabs__link">
          
  
  ADOPTED

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../concepts/0004-agents/" class="md-tabs__link">
          
  
  ACCEPTED

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../features/0032-message-timing/" class="md-tabs__link">
          
  
  DEMONSTRATED

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../features/0028-introduce/" class="md-tabs__link">
          
  
  PROPOSED

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../features/0024-didcomm-over-xmpp/" class="md-tabs__link">
          
  
  STALLED

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../concepts/0013-overlays/" class="md-tabs__link">
          
  
  RETIRED

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Hyperledger Aries Interoperability Profiles / RFCs" class="md-nav__button md-logo" aria-label="Hyperledger Aries Interoperability Profiles / RFCs" data-md-component="logo">
      
  <img src="https://raw.githubusercontent.com/hyperledger/aries-rfcs/main/collateral/Hyperledger_Aries_Logo_White.png" alt="logo">

    </a>
    Hyperledger Aries Interoperability Profiles / RFCs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hyperledger/aries-rfcs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    hyperledger/aries-rfcs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Welcome
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../RFCindex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    All RFCs by Status
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../0000-template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RFC Template
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../0000-template-protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Protocol RFC Template
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Governance
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Governance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MAINTAINERS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maintainers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../github-issues/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Submitting Issues
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LICENSE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SECURITY/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    AIP 2.0
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            AIP 2.0
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0003-protocols/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0003 Protocols
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0004-agents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0004 Agents
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0005-didcomm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0005 DID Communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0008-message-id-and-threading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0008 Message ID and Threading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0011-decorators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0011 Decorators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0015-acks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0015 ACKs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0017-attachments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0017 Attachments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0019-encryption-envelope/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0019 Encryption Envelope
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0020-message-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0020 Message Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0023-did-exchange/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0023 DID Exchange Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0025-didcomm-transports/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0025 DIDComm Transports
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0035-report-problem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0035 Report Problem Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0044-didcomm-file-and-mime-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0044 DIDComm File and MIME Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0046-mediators-and-relays/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0046 Mediators and Relays
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0047-json-ld-compatibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0047 JSON-LD Compatibility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0048-trust-ping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0048 Trust Ping Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0050-wallets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0050 Wallets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0092-transport-return-route/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0092 Transports Return Route
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0094-cross-domain-messaging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0094 Cross-Domain Messaging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0095-basic-message/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0095 Basic Message Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0183-revocation-notification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0183 Revocation Notification 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0211-route-coordination/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0211 Mediator Coordination Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0360-use-did-key/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0360 did:key Usage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Aries RFC 0434 Out-of-Band Protocol 1.1
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Aries RFC 0434 Out-of-Band Protocol 1.1
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motivation" class="md-nav__link">
    <span class="md-ellipsis">
      Motivation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Motivation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connection-reuse" class="md-nav__link">
    <span class="md-ellipsis">
      Connection Reuse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connection-establishment-versioning" class="md-nav__link">
    <span class="md-ellipsis">
      Connection Establishment Versioning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-of-all-out-of-band-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Handling of all Out-of-Band Messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urls-and-qr-code-handling" class="md-nav__link">
    <span class="md-ellipsis">
      URLs and QR Code Handling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial" class="md-nav__link">
    <span class="md-ellipsis">
      Tutorial
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tutorial">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Key Concepts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roles" class="md-nav__link">
    <span class="md-ellipsis">
      Roles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#states" class="md-nav__link">
    <span class="md-ellipsis">
      States
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#messages" class="md-nav__link">
    <span class="md-ellipsis">
      Messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reuse-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Reuse Messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#responses" class="md-nav__link">
    <span class="md-ellipsis">
      Responses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adoption-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Adoption Messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#messages-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Messages Reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#localization" class="md-nav__link">
    <span class="md-ellipsis">
      Localization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message-catalog" class="md-nav__link">
    <span class="md-ellipsis">
      Message Catalog
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roles-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Roles Reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#states-reference" class="md-nav__link">
    <span class="md-ellipsis">
      States Reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errors" class="md-nav__link">
    <span class="md-ellipsis">
      Errors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flow-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Flow Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standard-out-of-band-message-encoding" class="md-nav__link">
    <span class="md-ellipsis">
      Standard Out-of-Band Message Encoding
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawbacks" class="md-nav__link">
    <span class="md-ellipsis">
      Drawbacks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prior-art" class="md-nav__link">
    <span class="md-ellipsis">
      Prior art
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unresolved-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Unresolved questions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementations" class="md-nav__link">
    <span class="md-ellipsis">
      Implementations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0441-present-proof-best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0441 Prover and Verifier Best Practices for Proof Presentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0453-issue-credential-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0453 Issue Credential Protocol 2.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0454-present-proof-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0454 Present Proof Protocol 2.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0510-dif-pres-exch-attach/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0510 Presentation-Exchange Attachment format for requesting and presenting proofs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0519-goal-codes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0519 Goal Codes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0557-discover-features-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0557 Discover Features Protocol v2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0592-indy-attachments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0592 Indy Attachment Formats for Requesting and Presenting Credentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0593-json-ld-cred-attach/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0593 JSON-LD Credential Attachment format for requesting and issuing credentials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ADOPTED
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            ADOPTED
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0003-protocols/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0003 Protocols
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0005-didcomm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0005 DID Communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0008-message-id-and-threading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0008 Message ID and Threading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0011-decorators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0011 Decorators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0015-acks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0015 ACKs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0017-attachments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0017 Attachments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0019-encryption-envelope/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0019 Encryption Envelope
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0020-message-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0020 Message Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0021-didcomm-message-anatomy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0021 DIDComm Message Anatomy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0023-did-exchange/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0023 DID Exchange v1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0025-didcomm-transports/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0025 DIDComm Transports
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0031-discover-features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0031 Discover Features Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0035-report-problem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0035 Report Problem Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0036-issue-credential/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0036 Issue Credential Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0037-present-proof/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0037 Present Proof Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0048-trust-ping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0048 Trust Ping Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0092-transport-return-route/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0092 Transports Return Route
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0094-cross-domain-messaging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0094 Cross-Domain Messaging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0095-basic-message/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0095 Basic Message Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0160-connection-protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0160 Connection Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0211-route-coordination/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0211 Mediator Coordination Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0302-aries-interop-profile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0302 Aries Interop Profile
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0360-use-did-key/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0360 did:key Usage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0434-outofband/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0434 Out-of-Band Protocol 1.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0441-present-proof-best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0441 Prover and Verifier Best Practices for Proof Presentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0453-issue-credential-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0453 Issue Credential Protocol 2.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0454-present-proof-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0454 Present Proof Protocol 2.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0496-transition-to-oob-and-did-exchange/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0496 Transition to the Out of Band Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0510-dif-pres-exch-attach/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0510 Presentation-Exchange Attachment format for requesting and presenting proofs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0557-discover-features-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0557 Discover Features Protocol v2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0592-indy-attachments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0592 Indy Attachment Formats for Requesting and Presenting Credentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0593-json-ld-cred-attach/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0593 JSON-LD Credential Attachment format for requesting and issuing credentials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ACCEPTED
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            ACCEPTED
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0004-agents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0004 Agents
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0006-ssi-notation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0006 SSI Notation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0044-didcomm-file-and-mime-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0044 DIDComm File and MIME Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0046-mediators-and-relays/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0046 Mediators and Relays
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0047-json-ld-compatibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0047 JSON-LD Compatibility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0049-repudiation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0049 Repudiation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0050-wallets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0050 Wallets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0183-revocation-notification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0183 Revocation Notification 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0519-goal-codes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0519 Goal Codes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0587-encryption-envelope-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0587 Encryption Envelope v2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0646-bbs-credentials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0646 W3C Credential Exchange using BBS+ Signatures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0685-pickup-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0685 Pickup Protocol 2.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0721-revocation-notification-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0721 Revocation Notification 2.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0793-unqualfied-dids-transition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0793 Unqualified DID Transition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0794-did-rotate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0794 DID Rotate 1.0
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DEMONSTRATED
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            DEMONSTRATED
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0032-message-timing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0032 Message Timing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0042-lox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0042 LOX -- A more secure pluggable framework for protecting wallet keys
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0043-l10n/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0043 l10n (Locali[s|z]ation)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0113-question-answer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0113 Question Answer Protocol 0.9
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0509-action-menu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0509 Action Menu Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0748-n-wise-did-exchange/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0748 N-wise DID Exchange Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0755-oca-for-aries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0755 Overlays Capture Architecture (OCA) For Aries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0756-oca-for-aries-style-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0756 OCA for Aries Style Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0780-data-urls-images/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0780 Use Data URLs for Images and More in Credential Attributes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0804-didcomm-rpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0804 DIDComm Remote Procedure Call (DRPC)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0809-w3c-data-integrity-credential-attachment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0809 W3C Verifiable Credential Data Integrity Attachment format for requesting and issuing credentials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PROPOSED
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            PROPOSED
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0028-introduce/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0028 Introduce Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0034-message-tracing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0034 Message Tracing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0056-service-decorator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0056 Service Decorator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0066-non-repudiable-cryptographic-envelope/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0066 Non-Repudiable Signature for Cryptographic Envelope
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0067-didcomm-diddoc-conventions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0067 DIDComm DID document conventions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0074-didcomm-best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0074 DIDComm Best Practices
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0103-indirect-identity-control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0103 Indirect Identity Control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0104-chained-credentials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0104 Chained Credentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0124-did-resolution-protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0124 DID Resolution Protocol 0.9
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0167-data-consent-lifecycle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0167 Data Consent Lifecycle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0212-pickup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0212 Pickup Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0213-transfer-policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0213 Transfer Policy Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0214-help-me-discover/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0214 "Help Me Discover" Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0231-biometric-service-provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0231 Biometric Service Provider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0268-unified-didcomm-agent-deeplinking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0268 Unified DIDCOMM Deeplinking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0270-interop-test-suite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0270 Interop Test Suite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0345-community-coordinated-update/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0345 Community Coordinated Update
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0346-didcomm-between-two-mobile-agents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0346 DIDComm Between Two Mobile Agents Using Cloud Agent Mediator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0347-proof-negotiation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0347 Proof Negotiation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0430-machine-readable-governance-frameworks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0430 Machine-Readable Governance Frameworks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0440-kms-architectures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0440 KMS Architectures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0511-dif-cred-manifest-attach/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0511 Credential-Manifest Attachment format for requesting and presenting credentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0559-pppu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0559 Privacy-Preserving Proof of Uniqueness
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0566-issuer-hosted-custodidal-agents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0566 Issuer-Hosted Custodial Agents
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0641-linking-binary-objects-to-credentials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0641 Linking binary objects to credentials using hash based references
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0693-credential-representation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0693 Cross-Platform Credential Representation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0699-push-notifications-apns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0699 Push Notifications apns Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0700-oob-through-redirect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0700 Out-of-Band through redirect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0728-device-binding-attachments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0728 Device Binding Attachments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0734-push-notifications-fcm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0734 Push Notifications fcm Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0757-push-notification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0757 Push Notification
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0771-anoncreds-attachments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0771 AnonCreds Attachment Formats for Requesting and Presenting Credentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0799-long-term-support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0799 Aries Long Term Support Releases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    STALLED
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            STALLED
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0024-didcomm-over-xmpp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0024 DIDComm over XMPP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0029-message-trust-contexts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0029 Message Trust Contexts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0030-sync-connection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0030 Sync Connection Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0075-payment-decorators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0075 Payment Decorators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0114-predefined-identities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0114 Predefined Identities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0116-evidence-exchange/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0116 Evidence Exchange Protocol 0.9
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0193-coin-flip/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0193 Coin Flip Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0207-credential-fraud-threat-model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0207 Credential Fraud Threat Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0217-linkable-message-paths/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0217 Linkable Message Paths
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0249-rich-schema-contexts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0249 Aries Rich Schema Contexts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0250-rich-schemas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0250 Rich Schema Objects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0257-private-credential-issuance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0257 Private Credential Issuance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0281-rich-schemas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0281 Aries Rich Schemas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0289-toip-stack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0289 The Trust Over IP Stack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0309-didauthz/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0309 DIDAuthZ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0327-crypto-service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0327 Crypto service Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0334-jwe-envelope/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0334 JWE envelope 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0335-http-over-didcomm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0335 HTTP Over DIDComm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0351-purpose-decorator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0351 Purpose Decorator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0418-rich-schema-encoding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0418 Aries Rich Schema Encoding Objects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0420-rich-schemas-common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0420 Rich Schema Objects Common
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0428-prepare-issue-rich-credential/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0428 Prerequisites to Issue Rich Credential
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0429-prepare-req-rich-pres/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0429 Prerequisites to Request Rich Presentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0445-rich-schema-mapping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0445 Aries Rich Schema Mapping
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0446-rich-schema-cred-def/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0446 Aries Rich Schema Credential Definition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0478-coprotocols/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0478 Coprotocols
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0482-coprotocol-protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0482 Coprotocol Protocol 0.5
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RETIRED
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            RETIRED
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0013-overlays/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0013 Overlays
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0051-dkms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0051 Decentralized Key Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0234-signature-decorator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0234 Signature Decorator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0303-v01-credential-exchange/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0303 V0.1 Credential Exchange (Deprecated)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0317-please-ack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0317 Please ACK Decorator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0348-transition-msg-type-to-https/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0348 Transition Message Type to HTTPs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0627-static-peer-dids/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0627 Static Peer DIDs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motivation" class="md-nav__link">
    <span class="md-ellipsis">
      Motivation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Motivation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connection-reuse" class="md-nav__link">
    <span class="md-ellipsis">
      Connection Reuse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connection-establishment-versioning" class="md-nav__link">
    <span class="md-ellipsis">
      Connection Establishment Versioning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-of-all-out-of-band-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Handling of all Out-of-Band Messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urls-and-qr-code-handling" class="md-nav__link">
    <span class="md-ellipsis">
      URLs and QR Code Handling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial" class="md-nav__link">
    <span class="md-ellipsis">
      Tutorial
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tutorial">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Key Concepts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roles" class="md-nav__link">
    <span class="md-ellipsis">
      Roles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#states" class="md-nav__link">
    <span class="md-ellipsis">
      States
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#messages" class="md-nav__link">
    <span class="md-ellipsis">
      Messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reuse-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Reuse Messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#responses" class="md-nav__link">
    <span class="md-ellipsis">
      Responses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adoption-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Adoption Messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#messages-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Messages Reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#localization" class="md-nav__link">
    <span class="md-ellipsis">
      Localization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message-catalog" class="md-nav__link">
    <span class="md-ellipsis">
      Message Catalog
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roles-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Roles Reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#states-reference" class="md-nav__link">
    <span class="md-ellipsis">
      States Reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errors" class="md-nav__link">
    <span class="md-ellipsis">
      Errors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flow-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Flow Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standard-out-of-band-message-encoding" class="md-nav__link">
    <span class="md-ellipsis">
      Standard Out-of-Band Message Encoding
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawbacks" class="md-nav__link">
    <span class="md-ellipsis">
      Drawbacks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prior-art" class="md-nav__link">
    <span class="md-ellipsis">
      Prior art
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unresolved-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Unresolved questions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementations" class="md-nav__link">
    <span class="md-ellipsis">
      Implementations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="aries-rfc-0434-out-of-band-protocol-11">Aries RFC 0434: Out-of-Band Protocol 1.1<a class="headerlink" href="#aries-rfc-0434-out-of-band-protocol-11" title="Permanent link">&para;</a></h1>
<ul>
<li>Authors: <a href="mailto:ryan.west@sovrin.org">Ryan West</a>, <a href="mailto:daniel.bluhm@sovrin.org">Daniel Bluhm</a>, Matthew Hailstone, <a href="mailto:swcurran@cloudcompass.ca">Stephen Curran</a>, <a href="mailto:sam@sovrin.org">Sam Curren</a>, <a href="mailto:george.aristy@securekey.com">George Aristy</a></li>
<li>Status: <a href="../../#adopted">ADOPTED</a></li>
<li>Since: 2020-03-01</li>
<li>Status Note: This RFC extracts the <code>invitation</code> messages from the <a href="../../features/0023-did-exchange/">DID Exchange</a> protocol (and perhaps <a href="../../features/0160-connection-protocol/">Connection</a>), and replaces the combined <code>present_proof/1.0/request</code> combined with the <code>~service</code> decorator to define an ephemeral (connection-less) challenge.</li>
<li>Supersedes: Invitation Message in <a href="https://github.com/hyperledger/aries-rfcs/blob/9b0aaa39df7e8bd434126c4b33c097aae78d65bf../../features/0160-connection-protocol/README.md#0-invitation-to-connect">0160-Connections</a> and Invitation Message in <a href="https://github.com/hyperledger/aries-rfcs/blob/9b0aaa39df7e8bd434126c4b33c097aae78d65bf../../features/0023-did-exchange/README.md#0-invitation-to-exchange">0023-DID-Exchange</a>.</li>
<li>Start Date: 2020-03-01</li>
<li>Tags: <a href="../../tags/#feature">feature</a>, <a href="../../tags/#protocol">protocol</a>, <a href="../../tags/#test-anomaly">test-anomaly</a></li>
<li>URI: <code>https://didcomm.org/out-of-band/%VER</code></li>
</ul>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>The Out-of-band protocol is used when you wish to engage with another agent and you don't have a DIDComm connection to use for the interaction.</p>
<h2 id="motivation">Motivation<a class="headerlink" href="#motivation" title="Permanent link">&para;</a></h2>
<p>The use of the <code>invitation</code> in the <a href="../../features/0160-connection-protocol/">Connection</a> and <a href="../../features/0023-did-exchange/">DID Exchange</a> protocols has been relatively successful, but has some shortcomings, as follows.</p>
<h3 id="connection-reuse">Connection Reuse<a class="headerlink" href="#connection-reuse" title="Permanent link">&para;</a></h3>
<p>A common pattern we have seen in the early days of Aries agents is a user with a browser getting to a point where a connection is needed between the website's (enterprise) agent and the user's mobile agent. A QR invitation is displayed, scanned and a protocol is executed to establish a connection. Life is good!</p>
<p>However, with the current invitation processes, when the same user returns to the same page, the same process is executed (QR code, scan, etc.) and a new connection is created between the two agents. There is no way for the user's agent to say "Hey, I've already got a connection with you. Let's use that one!"</p>
<p>We need the ability to reuse a connection.</p>
<h3 id="connection-establishment-versioning">Connection Establishment Versioning<a class="headerlink" href="#connection-establishment-versioning" title="Permanent link">&para;</a></h3>
<p>In the existing Connections and DID Exchange <code>invitation</code> handling, the <em>inviter</em> dictates what connection establishment protocol all <em>invitee</em>'s will use. A more sustainable approach is for the <em>inviter</em> to offer the <em>invitee</em> a list of supported protocols and allow the <em>invitee</em> to use one that it supports.</p>
<h3 id="handling-of-all-out-of-band-messages">Handling of all Out-of-Band Messages<a class="headerlink" href="#handling-of-all-out-of-band-messages" title="Permanent link">&para;</a></h3>
<p>We currently have two sets of out-of-band messages that cannot be delivered via DIDComm because there is no channel. We'd like to align those messages into a single "out-of-band" protocol so that their handling can be harmonized inside an agent, and a common QR code handling mechanism can be used.</p>
<h3 id="urls-and-qr-code-handling">URLs and QR Code Handling<a class="headerlink" href="#urls-and-qr-code-handling" title="Permanent link">&para;</a></h3>
<p>We'd like to have the specification of QR handling harmonized into a single RFC (this one).</p>
<h2 id="tutorial">Tutorial<a class="headerlink" href="#tutorial" title="Permanent link">&para;</a></h2>
<h3 id="key-concepts">Key Concepts<a class="headerlink" href="#key-concepts" title="Permanent link">&para;</a></h3>
<p>The Out-of-band protocol is used when an agent doesn't know if it has a connection with another agent. This could be because you are trying to establish a new connection with that agent, you have connections but don't know who the other party is, or if you want to have a connection-less interaction. Since there is no DIDComm connection to use for the messages of this protocol, the messages are plaintext and sent out-of-band, such as via a QR code, in an email message or any other available channel. Since the delivery of out-of-band messages will often be via QR codes, this RFC also covers the use of QR codes.</p>
<p>Two well known use cases for using an out-of-band protocol are:</p>
<ul>
<li>A user on a web browser wants to execute a protocol (for example, to issue a verifiable credential) between the website operator's agent and a user's agent. To enable the execution of the protocol, the two agents must first have a connection. An out-of-band message is used to trigger the creation of a new, or the reuse an existing, connection.</li>
<li>A website operator wants to request something from a user on their site where there is no (known) connection with the user's agent, and there is no need to create a connection.</li>
</ul>
<p>In both cases, there is only a single out-of-band protocol message sent. The message responding to the out-of-band message is a DIDComm message from an appropriate protocol.</p>
<p>Note that the website-to-agent model is not the only such interaction enabled by the out-of-band protocol, and a QR code is not the only delivery mechanism for out-of-band messages. However, they are useful as examples of the purpose of the protocol.</p>
<h3 id="roles">Roles<a class="headerlink" href="#roles" title="Permanent link">&para;</a></h3>
<p>The out-of-band protocol has two roles: <strong>sender</strong> and <strong>receiver</strong>.</p>
<h4 id="sender">sender<a class="headerlink" href="#sender" title="Permanent link">&para;</a></h4>
<p>The agent that generates the out-of-band message and makes it available to the other party.</p>
<h4 id="receiver">receiver<a class="headerlink" href="#receiver" title="Permanent link">&para;</a></h4>
<p>The agent that receives the out-of-band message and decides how to respond. There is no out-of-band protocol message with which the receiver will respond. Rather, if they respond, they will use a message from another protocol that the sender understands.</p>
<h3 id="states">States<a class="headerlink" href="#states" title="Permanent link">&para;</a></h3>
<p>The state machines for the sender and receiver are a bit odd for the out-of-band protocol because it consists of a single message that kicks off a co-protocol and ends when evidence of the co-protocol's launch is received, in the form of some response. In the following state machine diagrams we generically describe the response message from the <em>receiver</em> as being a DIDComm message.</p>
<p>The <em>sender</em> state machine is as follows:</p>
<p><a href="https://docs.google.com/spreadsheets/d/1o1szGCMx6FzrxfAKV76IEYmeKRJqvV3gd1r3Qfv1Q9o/edit#gid=1176419697"><img alt="sender state machine google doc" src="state-machine-sender.png" /></a></p>
<p>Note the "optional" reference under the second event in the <code>await-response</code> state. That is to indicate that an out-of-band message might be a single use message with a transition to done, or reusable message (received by many receivers) with a transition back to <code>await-response</code>.</p>
<p>The <em>receiver</em> state machine is as follows:</p>
<p><a href="https://docs.google.com/spreadsheets/d/1o1szGCMx6FzrxfAKV76IEYmeKRJqvV3gd1r3Qfv1Q9o/edit#gid=10874521"><img alt="receiver state machine google doc" src="state-machine-receiver.png" /></a></p>
<p>Worth noting is the first event of the <code>done</code> state, where the receiver may receive the message multiple times. This represents, for example, an agent returning to the same website and being greeted with instances of the same QR code each time.</p>
<h3 id="messages">Messages<a class="headerlink" href="#messages" title="Permanent link">&para;</a></h3>
<p>The out-of-band protocol a single message that is sent by the <em>sender</em>.</p>
<h4 id="invitation-httpsdidcommorgout-of-bandverinvitation">Invitation: <code>https://didcomm.org/out-of-band/%VER/invitation</code><a class="headerlink" href="#invitation-httpsdidcommorgout-of-bandverinvitation" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>{
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>  &quot;@type&quot;: &quot;https://didcomm.org/out-of-band/%VER/invitation&quot;,
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>  &quot;@id&quot;: &quot;&lt;id used for context as pthid&gt;&quot;,
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>  &quot;label&quot;: &quot;Faber College&quot;,
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>  &quot;goal_code&quot;: &quot;issue-vc&quot;,
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>  &quot;goal&quot;: &quot;To issue a Faber College Graduate credential&quot;,
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>  &quot;accept&quot;: [
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    &quot;didcomm/aip2;env=rfc587&quot;,
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    &quot;didcomm/aip2;env=rfc19&quot;
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>  ],
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>  &quot;handshake_protocols&quot;: [
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    &quot;https://didcomm.org/didexchange/1.0&quot;,
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    &quot;https://didcomm.org/connections/1.0&quot;
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>  ],
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>  &quot;requests~attach&quot;: [
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    {
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>      &quot;@id&quot;: &quot;request-0&quot;,
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>      &quot;mime-type&quot;: &quot;application/json&quot;,
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>      &quot;data&quot;: {
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>        &quot;json&quot;: &quot;&lt;json of protocol message&gt;&quot;
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>      }
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    }
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>  ],
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>  &quot;services&quot;: [&quot;did:sov:LjgpST2rjsoxYegQDRm7EL&quot;]
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>}
</code></pre></div>
<p>The items in the message are:</p>
<ul>
<li><code>@type</code> - the DIDComm message type</li>
<li><code>@id</code> - the unique ID of the message. The ID should be used as the <strong>parent</strong> thread ID (<code>pthid</code>) for the response message, rather than the more common thread ID (<code>thid</code>) of the response message. This enables multiple uses of a single out-of-band message.</li>
<li><code>label</code> - [optional] a self-attested string that the receiver may want to display to the user, likely about who sent the out-of-band message.</li>
<li><code>goal_code</code> - [optional] a self-attested code the receiver may want to display to the user or use in automatically deciding what to do with the out-of-band message.</li>
<li><code>goal</code> - [optional] a self-attested string that the receiver may want to display to the user about the context-specific goal of the out-of-band message.</li>
<li><code>accept</code> - [optional] an array of media (aka mime) types in the order of preference of the sender that the receiver can use in responding to the message.
If <code>accept</code> is not specified, the receiver uses its preferred choice to respond to the message.
<a href="../0044-didcomm-file-and-mime-types/">RFC 0044</a> provides a general discussion of media types.</li>
<li><code>handshake_protocols</code> - [optional] an array of protocols in the order of preference of the sender that the receiver can use in responding to the message in order to create or reuse a connection with the sender. These are not arbitrary protocols but rather protocols that result in the establishment of a connection. One or both of <code>handshake_protocols</code> and <code>requests~attach</code> <strong>MUST</strong> be included in the message.</li>
<li><code>requests~attach</code> - [optional] an attachment decorator containing an array of request messages in order of preference that the receiver can using in responding to the message. One or both of <code>handshake_protocols</code> and <code>requests~attach</code> <strong>MUST</strong> be included in the message.</li>
<li>While the JSON form of the attachment is used in the example above, the sender could choose to use the base64 form.</li>
<li><code>services</code> - an array of union types that the receiver uses when responding to the message. Each item is either a DIDComm <code>service</code> object (as per <a href="../0067-didcomm-diddoc-conventions/README.md#service-conventions">RFC0067</a>) or a DID (as per <a href="https://w3c.github.io/did-core/#did-syntax">Decentralized Identifiers v1.0</a>). Additional details below.</li>
</ul>
<p>If only the <code>handshake_protocols</code> item is included, the initial interaction will complete with the establishment (or reuse) of the connection. Either side may then use that connection for any purpose. A common use case (but not required) would be for the sender to initiate another protocol after the connection is established to accomplish some shared goal.</p>
<p>If only the <code>requests~attach</code> item is included, no new connection is expected to be created, although one could be used if the receiver knows such a connection already exists. The receiver responds to one of the messages in the <code>requests~attach</code> array. The <code>requests~attach</code> item might include the first message of a protocol from the sender, or might be a <a href="#">please-play-the-role</a> message requesting the receiver initiate a protocol. If the protocol requires a further response from the sender to the receiver, the receiver must include a <a href="../0056-service-decorator/README.md"><code>~service</code> decorator</a> for the sender to use in responding.</p>
<p>If both the <code>handshake_protocols</code> and <code>requests~attach</code> items are included in the message, the receiver should first establish a connection and then respond (using that connection) to one of the messages in the <code>requests~attach</code> message. If a connection already exists between the parties, the receiver may respond immediately to the <code>request-attach</code> message using the established connection.</p>
<h3 id="reuse-messages">Reuse Messages<a class="headerlink" href="#reuse-messages" title="Permanent link">&para;</a></h3>
<p>While the <em>receiver</em> is expected to respond with an initiating message from a <code>handshake_protocols</code> or <code>requests~attach</code> item using an offered service, the receiver may be able to respond by reusing an existing connection. Specifically, if a connection they have was created from an out-of-band <code>invitation</code> from the same <code>services</code> DID of a new <code>invitation</code> message, the connection <strong>MAY</strong> be reused. The receiver may choose to not reuse the existing connection for privacy purposes and repeat a handshake protocol to receive a redundant connection. </p>
<p>If a message has a service block instead of a DID in the <code>services</code> list, you may enable reuse by encoding the key and endpoint of the service block in a <a href="https://identity.foundation/peer-did-method-spec/#generation-method">Peer DID numalgo 2</a> and using that DID instead of a service block.</p>
<p>If the receiver desires to reuse the existing connection and a <code>requests~attach</code> item is included in the message, the receiver <strong>SHOULD</strong> respond to one of the attached messages using the existing connection.</p>
<p>If the receiver desires to reuse the existing connection and no <code>requests~attach</code> item is included in the message, the receiver <strong>SHOULD</strong> attempt to do so with the <code>reuse</code> and <code>reuse-accepted</code> messages. This will notify the <em>inviter</em> that the existing connection should be used, along with the context that can be used for follow-on interactions.</p>
<p>While the <code>invitation</code> message is passed unencrypted and out-of-band, both the <code>handshake-reuse</code> and <code>handshake-reuse-accepted</code> messages <strong>MUST</strong> be encrypted and transmitted as normal DIDComm messages.</p>
<h4 id="reuse-httpsdidcommorgout-of-bandverhandshake-reuse">Reuse: <code>https://didcomm.org/out-of-band/%VER/handshake-reuse</code><a class="headerlink" href="#reuse-httpsdidcommorgout-of-bandverhandshake-reuse" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>{
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>  &quot;@type&quot;: &quot;https://didcomm.org/out-of-band/%VER/handshake-reuse&quot;,
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>  &quot;@id&quot;: &quot;&lt;id&gt;&quot;,
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>  &quot;~thread&quot;: {
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    &quot;thid&quot;: &quot;&lt;same as @id&gt;&quot;,
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    &quot;pthid&quot;: &quot;&lt;The @id of the Out-of-Band invitation&gt;&quot;
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>  }
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>}
</code></pre></div>
<p>The items in the message are:</p>
<ul>
<li><code>@type</code> - the DIDComm message type</li>
<li><code>@id</code> - the unique ID of the message. </li>
<li><code>pthid</code> - the <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/id" title="GitHub User: id">@id</a> of the invitation message. This provides the context link for the <em>inviter</em> to prompt additional protocol interactions.</li>
</ul>
<p>Sending or receiving this message does not change the state of the existing connection.</p>
<p>When the <em>inviter</em> receives the <code>handshake-reuse</code> message, they <strong>MUST</strong> respond with a <code>handshake-reuse-accepted</code> message to notify that <em>invitee</em> that the request to reuse the existing connection is successful.</p>
<h4 id="reuse-accepted-httpsdidcommorgout-of-bandverhandshake-reuse-accepted">Reuse Accepted:  <code>https://didcomm.org/out-of-band/%VER/handshake-reuse-accepted</code><a class="headerlink" href="#reuse-accepted-httpsdidcommorgout-of-bandverhandshake-reuse-accepted" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">  </span><span class="nt">&quot;@type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://didcomm.org/out-of-band/%VER/handshake-reuse-accepted&quot;</span><span class="p">,</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span><span class="nt">&quot;@id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;id&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">  </span><span class="nt">&quot;~thread&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span><span class="nt">&quot;thid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;The Message @id of the reuse message&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">    </span><span class="nt">&quot;pthid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;The @id of the Out-of-Band invitation&gt;&quot;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="p">}</span>
</code></pre></div>
<p>The items in the message are:</p>
<ul>
<li><code>@type</code> - the DIDComm message type</li>
<li><code>@id</code> - the unique ID of the message. </li>
<li><code>pthid</code> - the <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/id" title="GitHub User: id">@id</a> of the invitation message. This and the <code>thid</code> provides context for the <em>invitee</em> to know the reuse attempt succeeded.</li>
</ul>
<p>If this message is not received by the <em>invitee</em>, they should use the regular process. This message is a mechanism by which the <em>invitee</em> can detect a situation where the <em>inviter</em> no longer has a record of the connection and is unable to decrypt and process the <code>handshake-reuse</code> message.</p>
<p>After sending this message, the <em>inviter</em> may continue any desired protocol interactions based on the context matched by the <code>pthid</code> present in the <code>handshake-reuse</code> message.</p>
<h3 id="responses">Responses<a class="headerlink" href="#responses" title="Permanent link">&para;</a></h3>
<p>The following table summarizes the different forms of the out-of-band <code>invitation</code> message depending on the presence (or not) of the <code>handshake_protocols</code> item, the <code>requests~attach</code> item and whether or not a connection between the agents already exists.</p>
<table>
<thead>
<tr>
<th><code>handshake_protocols</code> Present?</th>
<th><code>requests~attach</code> Present?</th>
<th>Existing connection?</th>
<th>Receiver action(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td>No</td>
<td>No</td>
<td>No</td>
<td>Impossible</td>
</tr>
<tr>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>Uses the first supported protocol from <code>handshake_protocols</code> to make a new connection using the first supported <code>services</code> entry.</td>
</tr>
<tr>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>Send a response to the first supported request message using the first supported <code>services</code> entry. Include a <code>~service</code> decorator if the sender is expected to respond.</td>
</tr>
<tr>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>Impossible</td>
</tr>
<tr>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
<td>Use the first supported protocol from <code>handshake_protocols</code> to make a new connection using the first supported <code>services</code> entry, and then send a response message to the first supported attachment message using the new connection.</td>
</tr>
<tr>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
<td>Send a <code>handshake-reuse</code> message.</td>
</tr>
<tr>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
<td>Send a response message to the first supported request message using the existing connection.</td>
</tr>
<tr>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Send a response message to the first supported request message using the existing connection.</td>
</tr>
</tbody>
</table>
<p>Both the <code>goal_code</code> and <code>goal</code> fields <strong>SHOULD</strong> be used with the <a href="../0043-l10n/README.md">localization service decorator</a>. The two fields are to enable both human and machine handling of the out-of-band message. <code>goal_code</code> is to specify a generic, protocol level outcome for sending the out-of-band message (e.g. issue verifiable credential, request proof, etc.) that is suitable for machine handling and possibly human display, while <code>goal</code> provides context specific guidance, targeting mainly a person controlling the receiver's agent. The list of <code>goal_code</code> values is provided in the <a href="#message-catalog">Message Catalog</a> section of this RFC.</p>
<h4 id="the-services-item">The <code>services</code> Item<a class="headerlink" href="#the-services-item" title="Permanent link">&para;</a></h4>
<p>As mentioned in the description above, the <code>services</code> item array is intended to be analogous to the <code>service</code> block of a DIDDoc. When not reusing an existing connection, the receiver scans the array and selects (according to the rules described below) a service entry to use for the response to the out-of-band message.</p>
<p>There are two forms of entries in the <code>services</code> item array:</p>
<ul>
<li>a DID that is resolved to retrieve it's DIDDoc service block, and</li>
<li>an inline service block.</li>
</ul>
<p>The following is an example of a two entry array, one of each form:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>{
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>  &quot;@type&quot;: &quot;https://didcomm.org/out-of-band/%VER/invitation&quot;,
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>  &quot;@id&quot;: &quot;&lt;id used for context as pthid&gt;&quot;,
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>  &quot;label&quot;: &quot;Faber College&quot;,
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>  &quot;handshake_protocols&quot;: [&quot;https://didcomm.org/didexchange/1.0&quot;],
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>  &quot;services&quot;: [
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>    {
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>      &quot;id&quot;: &quot;#inline&quot;,
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>      &quot;type&quot;: &quot;did-communication&quot;,
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>      &quot;recipientKeys&quot;: [&quot;did:key:z6MkpTHR8VNsBxYAAWHut2Geadd9jSwuBV8xRoAnwWsdvktH&quot;],
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>      &quot;routingKeys&quot;: [],
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>      &quot;serviceEndpoint&quot;: &quot;https://example.com:5000&quot;
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>    },
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>    &quot;did:sov:LjgpST2rjsoxYegQDRm7EL&quot;
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>  ]
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>}
</code></pre></div>
<p>The processing rules for the <code>services</code> block are:</p>
<ul>
<li>Use only entries where the <code>type</code> is equal to <code>did-communication</code>.</li>
<li>Entries without a <code>type</code> are assumed to be <code>did-communication</code>.</li>
<li>The sender <strong>MUST</strong> put the array into their order of preference, and, as such, the receiver <strong>SHOULD</strong> prefer the entries in order.</li>
</ul>
<p>The attributes in the inline form parallel the attributes of a DID Document for increased meaning. The <code>recipientKeys</code> and <code>routingKeys</code> within the inline block decorator <strong>MUST</strong> be <a href="https://digitalbazaar.github.io/did-method-key/"><code>did:key</code> references</a>.</p>
<p>As defined in the <a href="https://github.com/hyperledger/aries-rfcs/tree/main../../concepts/0094-cross-domain-messaging">DIDComm Cross Domain Messaging RFC</a>, if <code>routingKeys</code> is present and non-empty, additional forwarding wrapping are necessary in the response message.</p>
<p>When considering routing and options for out-of-band messages, keep in mind that the more detail in the message, the longer the URL will be and (if used) the more dense (and harder to scan) the QR code will be.</p>
<h5 id="service-endpoint">Service Endpoint<a class="headerlink" href="#service-endpoint" title="Permanent link">&para;</a></h5>
<p>The service endpoint used to transmit the response is either present in the out-of-band message or available in the DID Document of a presented DID. If the endpoint is itself a DID, the <code>serviceEndpoint</code> in the DIDDoc of the resolved DID <strong>MUST</strong> be a URI, and the <code>recipientKeys</code> <strong>MUST</strong> contain a single key. That key is appended to the end of the list of <code>routingKeys</code> for processing. For more information about message forwarding and routing, see <a href="https://github.com/hyperledger/aries-rfcs/tree/main../../concepts/0094-cross-domain-messaging">RFC 0094 Cross Domain Messaging</a>.</p>
<h3 id="adoption-messages">Adoption Messages<a class="headerlink" href="#adoption-messages" title="Permanent link">&para;</a></h3>
<p>The <code>problem_report</code> message <strong>MAY</strong> be adopted by the out-of-band protocol if the agent wants to respond with problem reports to invalid messages, such as attempting to reuse a single-use invitation.</p>
<h3 id="constraints">Constraints<a class="headerlink" href="#constraints" title="Permanent link">&para;</a></h3>
<p>An existing connection can only be reused based on a DID in the <code>services</code> list in an out-of-band message.</p>
<h2 id="reference">Reference<a class="headerlink" href="#reference" title="Permanent link">&para;</a></h2>
<h3 id="messages-reference">Messages Reference<a class="headerlink" href="#messages-reference" title="Permanent link">&para;</a></h3>
<p>The full description of the message in this protocol can be found in the <a href="#messages">Tutorial</a> section of this RFC.</p>
<h3 id="localization">Localization<a class="headerlink" href="#localization" title="Permanent link">&para;</a></h3>
<p>The <code>goal_code</code> and <code>goal</code> fields <strong>SHOULD</strong> have localization applied. See the purpose of those fields in the <a href="#messages">message type definitions</a> section and the <a href="#message-catalog">message catalog</a> section (immediately below).</p>
<h3 id="message-catalog">Message Catalog<a class="headerlink" href="#message-catalog" title="Permanent link">&para;</a></h3>
<h4 id="goal_code"><code>goal_code</code><a class="headerlink" href="#goal_code" title="Permanent link">&para;</a></h4>
<p>The following values are defined for the <code>goal_code</code> field:</p>
<table>
<thead>
<tr>
<th>Code (cd)</th>
<th>English (en)</th>
</tr>
</thead>
<tbody>
<tr>
<td>issue-vc</td>
<td>To issue a credential</td>
</tr>
<tr>
<td>request-proof</td>
<td>To request a proof</td>
</tr>
<tr>
<td>create-account</td>
<td>To create an account with a service</td>
</tr>
<tr>
<td>p2p-messaging</td>
<td>To establish a peer-to-peer messaging relationship</td>
</tr>
</tbody>
</table>
<h4 id="goal"><code>goal</code><a class="headerlink" href="#goal" title="Permanent link">&para;</a></h4>
<p>The <code>goal</code> localization values are use case specific and localization is left to the agent implementor to enable using the techniques defined in the <a href="../0043-l10n/README.md">~l10n RFC</a>.</p>
<h3 id="roles-reference">Roles Reference<a class="headerlink" href="#roles-reference" title="Permanent link">&para;</a></h3>
<p>The roles are defined in the <a href="#roles">Tutorial</a> section of this RFC.</p>
<h3 id="states-reference">States Reference<a class="headerlink" href="#states-reference" title="Permanent link">&para;</a></h3>
<h4 id="initial">initial<a class="headerlink" href="#initial" title="Permanent link">&para;</a></h4>
<p>No out-of-band messages have been sent.</p>
<h4 id="await-response">await-response<a class="headerlink" href="#await-response" title="Permanent link">&para;</a></h4>
<p>The <strong>sender</strong> has shared an out-of-band message with the intended <em>receiver</em>(s), and the <em>sender</em> has not yet received all of the responses. For a single-use out-of-band message, there will be only one response; for a multi-use out-of-band message, there is no defined limit on the number of responses.</p>
<h4 id="prepare-response">prepare-response<a class="headerlink" href="#prepare-response" title="Permanent link">&para;</a></h4>
<p>The <em>receiver</em> has received the out-of-band message and is preparing a response. The response will not be an out-of-band protocol message, but a message from another protocol chosen based on the contents of the out-of-band message.</p>
<h4 id="done">done<a class="headerlink" href="#done" title="Permanent link">&para;</a></h4>
<p>The out-of-band protocol has been completed. Note that if the out-of-band message was intended to be available to many receivers (a multiple use message), the <em>sender</em> returns to the <em>await-response</em> state rather than going to the <em>done</em> state.</p>
<h3 id="errors">Errors<a class="headerlink" href="#errors" title="Permanent link">&para;</a></h3>
<p>There is an optional courtesy error message stemming from an out-of-band message that the <em>sender</em> could provide if they have sufficient recipient information. If the out-of-band message is a single use message <strong>and</strong> the sender receives multiple responses <strong>and</strong> each receiver's response includes a way for the sender to respond with a DIDComm message, all but the first <strong>MAY</strong> be answered with a <code>problem_report</code>.</p>
<h4 id="error-message-example">Error Message Example<a class="headerlink" href="#error-message-example" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>{
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>  &quot;@type&quot;: &quot;https://didcomm.org/out-of-band/%VER/problem_report&quot;,
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>  &quot;@id&quot;: &quot;5678876542345&quot;,
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>  &quot;~thread&quot;: { &quot;pthid&quot;: &quot;&lt;@id of the OutofBand message&gt;&quot; },
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>  &quot;description&quot;: {
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    &quot;en&quot;: &quot;The invitation has expired.&quot;,
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    &quot;code&quot;: &quot;expired-invitation&quot;
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>  },
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>  &quot;impact&quot;: &quot;thread&quot;
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>}
</code></pre></div>
<p>See the <a href="https://github.com/hyperledger/aries-rfcs/tree/main../../features/0035-report-problem">problem-report</a> protocol for details on the items in the example.</p>
<h3 id="flow-overview">Flow Overview<a class="headerlink" href="#flow-overview" title="Permanent link">&para;</a></h3>
<p>In an out-of-band message the <em>sender</em> gives information to the <em>receiver</em> about the kind of DIDComm protocol response messages it can handle and how to deliver the response. The receiver uses that information to determine what DIDComm protocol/message to use in responding to the sender, and (from the service item or an existing connection) how to deliver the response to the sender.</p>
<p>The handling of the response is specified by the protocol used.</p>
<blockquote>
<p>To Do: Make sure that the following remains in the DID Exchange/Connections RFCs</p>
<p>Any Published DID that expresses support for DIDComm by defining a  <a href="https://w3c.github.io/did-core/#service-endpoints"><code>service</code></a> that follows the <a href="../0067-didcomm-diddoc-conventions/README.md#service-conventions">DIDComm conventions</a> serves as an implicit invitation. If an <em>invitee</em> wishes to connect to any Published DID, they need not wait for an out-of-band invitation message. Rather, they can designate their own label and initiate the appropriate protocol (e.g. <a href="https://github.com/hyperledger/aries-rfcs/blob/9b0aaa39df7e8bd434126c4b33c097aae78d65bf../../features/0160-connection-protocol/README.md#0-invitation-to-connect">0160-Connections</a> or <a href="https://github.com/hyperledger/aries-rfcs/blob/9b0aaa39df7e8bd434126c4b33c097aae78d65bf../../features/0023-did-exchange/README.md#0-invitation-to-exchange">0023-DID-Exchange</a>) for establishing a connection.</p>
</blockquote>
<h3 id="standard-out-of-band-message-encoding">Standard Out-of-Band Message Encoding<a class="headerlink" href="#standard-out-of-band-message-encoding" title="Permanent link">&para;</a></h3>
<p>Using a standard out-of-band message encoding allows for easier interoperability between multiple projects and software platforms. Using a URL for that standard encoding provides a built in fallback flow for users who are unable to automatically process the message. Those new users will load the URL in a browser as a default behavior, and may be presented with instructions on how to install software capable of processing the message. Already onboarded users will be able to process the message without loading in a browser via mobile app URL capture, or via capability detection after being loaded in a browser.</p>
<p>The standard out-of-band message format is a URL with a <strong>Base64Url</strong> encoded json object as a query parameter.</p>
<p>Please note the difference between <a href="https://datatracker.ietf.org/doc/html/rfc4648#section-5">Base64Url</a> and <a href="https://datatracker.ietf.org/doc/html/rfc4648#section-4">Base64</a> encoding.</p>
<p>The URL format is as follows, with some elements described below:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>https://&lt;domain&gt;/&lt;path&gt;?oob=&lt;outofbandMessage&gt;
</code></pre></div>
<p><code>&lt;domain&gt;</code> and <code>&lt;path&gt;</code> should be kept as short as possible, and the full URL <strong>SHOULD</strong> return human readable instructions when loaded in a browser. This is intended to aid new users. The <code>oob</code> query parameter is required and is reserved to contain the out-of-band message string. Additional path elements or query parameters are allowed, and can be leveraged to provide coupons or other promise of payment for new users.</p>
<blockquote>
<p>To do: We need to rationalize this approach <code>https://</code> approach with the use of a special protocol (e.g. <code>didcomm://</code>) that will enable handling of the URL on mobile devices to automatically invoke an installed app on both Android and iOS. A user must be able to process the out-of-band message on the device of the agent (e.g. when the mobile device can't scan the QR code because it is on a web page on device).</p>
</blockquote>
<p>The <code>&lt;outofbandMessage&gt;</code> is an agent plaintext message (not a DIDComm message) that has been Base64Url encoded such that the resulting string can be safely used in a URL.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nx">outofband_message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">base64UrlEncode</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">outofbandMessage</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div>
<p>During Base64Url encoding, whitespace from the JSON string <strong>SHOULD</strong> be eliminated to keep the resulting out-of-band message string as short as possible.</p>
<h4 id="example-out-of-band-message-encoding">Example Out-of-Band Message Encoding<a class="headerlink" href="#example-out-of-band-message-encoding" title="Permanent link">&para;</a></h4>
<p>Invitation:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span><span class="nt">&quot;@type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://didcomm.org/out-of-band/1.0/invitation&quot;</span><span class="p">,</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span><span class="nt">&quot;@id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;69212a3a-d068-4f9d-a2dd-4741bca89af3&quot;</span><span class="p">,</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">  </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Faber College&quot;</span><span class="p">,</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">  </span><span class="nt">&quot;goal_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;issue-vc&quot;</span><span class="p">,</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">  </span><span class="nt">&quot;goal&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;To issue a Faber College Graduate credential&quot;</span><span class="p">,</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">  </span><span class="nt">&quot;handshake_protocols&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;https://didcomm.org/didexchange/1.0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;https://didcomm.org/connections/1.0&quot;</span><span class="p">],</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">  </span><span class="nt">&quot;services&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;did:sov:LjgpST2rjsoxYegQDRm7EL&quot;</span><span class="p">]</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="p">}</span>
</code></pre></div>
<p>Whitespace removed:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>{&quot;@type&quot;:&quot;https://didcomm.org/out-of-band/1.0/invitation&quot;,&quot;@id&quot;:&quot;69212a3a-d068-4f9d-a2dd-4741bca89af3&quot;,&quot;label&quot;:&quot;Faber College&quot;,&quot;goal_code&quot;:&quot;issue-vc&quot;,&quot;goal&quot;:&quot;To issue a Faber College Graduate credential&quot;,&quot;handshake_protocols&quot;:[&quot;https://didcomm.org/didexchange/1.0&quot;,&quot;https://didcomm.org/connections/1.0&quot;],&quot;services&quot;:[&quot;did:sov:LjgpST2rjsoxYegQDRm7EL&quot;]}
</code></pre></div>
<p>Base64Url encoded:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>eyJAdHlwZSI6Imh0dHBzOi8vZGlkY29tbS5vcmcvb3V0LW9mLWJhbmQvMS4wL2ludml0YXRpb24iLCJAaWQiOiI2OTIxMmEzYS1kMDY4LTRmOWQtYTJkZC00NzQxYmNhODlhZjMiLCJsYWJlbCI6IkZhYmVyIENvbGxlZ2UiLCJnb2FsX2NvZGUiOiJpc3N1ZS12YyIsImdvYWwiOiJUbyBpc3N1ZSBhIEZhYmVyIENvbGxlZ2UgR3JhZHVhdGUgY3JlZGVudGlhbCIsImhhbmRzaGFrZV9wcm90b2NvbHMiOlsiaHR0cHM6Ly9kaWRjb21tLm9yZy9kaWRleGNoYW5nZS8xLjAiLCJodHRwczovL2RpZGNvbW0ub3JnL2Nvbm5lY3Rpb25zLzEuMCJdLCJzZXJ2aWNlcyI6WyJkaWQ6c292OkxqZ3BTVDJyanNveFllZ1FEUm03RUwiXX0=
</code></pre></div>
<p>Example URL with Base64Url encoded message:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>http://example.com/ssi?oob=eyJAdHlwZSI6Imh0dHBzOi8vZGlkY29tbS5vcmcvb3V0LW9mLWJhbmQvMS4wL2ludml0YXRpb24iLCJAaWQiOiI2OTIxMmEzYS1kMDY4LTRmOWQtYTJkZC00NzQxYmNhODlhZjMiLCJsYWJlbCI6IkZhYmVyIENvbGxlZ2UiLCJnb2FsX2NvZGUiOiJpc3N1ZS12YyIsImdvYWwiOiJUbyBpc3N1ZSBhIEZhYmVyIENvbGxlZ2UgR3JhZHVhdGUgY3JlZGVudGlhbCIsImhhbmRzaGFrZV9wcm90b2NvbHMiOlsiaHR0cHM6Ly9kaWRjb21tLm9yZy9kaWRleGNoYW5nZS8xLjAiLCJodHRwczovL2RpZGNvbW0ub3JnL2Nvbm5lY3Rpb25zLzEuMCJdLCJzZXJ2aWNlcyI6WyJkaWQ6c292OkxqZ3BTVDJyanNveFllZ1FEUm03RUwiXX0=
</code></pre></div>
<p>Out-of-band message URLs can be transferred via any method that can send text, including an email, SMS, posting on a website, or QR Code.</p>
<p>Example URL encoded as a QR Code:</p>
<p><img alt="Example QR Code" src="ExampleQRCode.png" /></p>
<p>Example Email Message:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nt">To:</span><span class="w"> </span><span class="nl">alice@alum.faber.edu</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="nt">From:</span><span class="w"> </span><span class="nl">studentrecords@faber.edu</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="nt">Subject:</span><span class="w"> </span>Your<span class="w"> </span>request<span class="w"> </span>to<span class="w"> </span>connect<span class="w"> </span>and<span class="w"> </span>receive<span class="w"> </span>your<span class="w"> </span>graduate<span class="w"> </span>verifiable<span class="w"> </span>credential
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>Dear Alice,
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>To receive your Faber College graduation certificate, click here to [connect](http://example.com/ssi?oob=eyJAdHlwZSI6Imh0dHBzOi8vZGlkY29tbS5vcmcvb3V0LW9mLWJhbmQvMS4wL2ludml0YXRpb24iLCJAaWQiOiI2OTIxMmEzYS1kMDY4LTRmOWQtYTJkZC00NzQxYmNhODlhZjMiLCJsYWJlbCI6IkZhYmVyIENvbGxlZ2UiLCJnb2FsX2NvZGUiOiJpc3N1ZS12YyIsImdvYWwiOiJUbyBpc3N1ZSBhIEZhYmVyIENvbGxlZ2UgR3JhZHVhdGUgY3JlZGVudGlhbCIsImhhbmRzaGFrZV9wcm90b2NvbHMiOlsiaHR0cHM6Ly9kaWRjb21tLm9yZy9kaWRleGNoYW5nZS8xLjAiLCJodHRwczovL2RpZGNvbW0ub3JnL2Nvbm5lY3Rpb25zLzEuMCJdLCJzZXJ2aWNlcyI6WyJkaWQ6c292OkxqZ3BTVDJyanNveFllZ1FEUm03RUwiXX0=) with us, or paste the following into your browser:
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>http://example.com/ssi?oob=eyJAdHlwZSI6Imh0dHBzOi8vZGlkY29tbS5vcmcvb3V0LW9mLWJhbmQvMS4wL2ludml0YXRpb24iLCJAaWQiOiI2OTIxMmEzYS1kMDY4LTRmOWQtYTJkZC00NzQxYmNhODlhZjMiLCJsYWJlbCI6IkZhYmVyIENvbGxlZ2UiLCJnb2FsX2NvZGUiOiJpc3N1ZS12YyIsImdvYWwiOiJUbyBpc3N1ZSBhIEZhYmVyIENvbGxlZ2UgR3JhZHVhdGUgY3JlZGVudGlhbCIsImhhbmRzaGFrZV9wcm90b2NvbHMiOlsiaHR0cHM6Ly9kaWRjb21tLm9yZy9kaWRleGNoYW5nZS8xLjAiLCJodHRwczovL2RpZGNvbW0ub3JnL2Nvbm5lY3Rpb25zLzEuMCJdLCJzZXJ2aWNlcyI6WyJkaWQ6c292OkxqZ3BTVDJyanNveFllZ1FEUm03RUwiXX0=
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>If you don&#39;t have an identity agent for holding credentials, you will be given instructions on how you can get one.
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>Thanks,
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>Faber College
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>Knowledge is Good
</code></pre></div>
<h4 id="url-shortening">URL Shortening<a class="headerlink" href="#url-shortening" title="Permanent link">&para;</a></h4>
<p>It seems inevitable that the length of some out-of-band message will be too long to produce a useable QR code. Techniques to avoid unusable QR codes have been presented above, including using attachment links for requests, minimizing the routing of the response and eliminating unnecessary whitespace in the JSON. However, at some point a <em>sender</em> may need generate a very long URL. In that case, a DIDComm specific URL shortener redirection should be implemented by the sender as follows:</p>
<ul>
<li>The sender generates a unique URL for each shortened out-of-band message.</li>
<li>The unique URL often includes a unique id component as part of the path or in a query parameter.</li>
<li>The following URLs are valid examples:</li>
<li><code>https://example.com/ssi?id=5f0e3ffb-3f92-4648-9868-0d6f8889e6f3</code></li>
<li><code>https://example.com/8E6nEcJ26TTE</code></li>
<li><code>https://example.com/sky/event/8DcnUW2h8m4jcfPdQ2uMN7/work-laptop-bag/s/u</code></li>
<li>On receipt of this form of message, the agent <strong>MUST</strong> perform an HTTP GET to retrieve the associated out-of-band message. The agent <strong>SHOULD</strong> include an <code>Accept</code> header requesting the <code>application/json</code> MIME type.</li>
<li>The sender <strong>MAY</strong> include a <code>Content-Type</code> header specifying <code>application/json; charset=utf-8</code>, and in the case where the agent included an <code>Accept</code> header for the <code>application/json</code> MIME type, the sender <strong>MUST</strong> include the header. If so, the sender <strong>MUST</strong> return the invitation in JSON format in the response body with a <code>status_code</code> of <code>200</code>.</li>
<li>The sender <strong>MAY</strong> respond with a <code>status_code</code> of <code>301</code> or <code>302</code> and include a <code>Location</code> header specifying the long out-of-band message URL.</li>
<li>This redirect option operates like many commercial URL shorteners. </li>
<li>The sender <strong>MUST</strong> invalidate the URL after message retrieval or after an expiration time to prevent unintended parties from retrieving a copy of the message.</li>
<li>A sender <strong>MUST NOT</strong> use a commercial URL shortener unless it supports invalidating the URL.</li>
</ul>
<p>A usable QR code will always be able to be generated from the shortened form of the URL.</p>
<h4 id="url-shortening-caveats">URL Shortening Caveats<a class="headerlink" href="#url-shortening-caveats" title="Permanent link">&para;</a></h4>
<p>Some HTTP libraries don't support stopping redirects from occuring on reception of a <code>301</code> or <code>302</code>, in this instance the redirect is automatically followed and will result in a response that <strong>MAY</strong> have a status of <code>200</code> and <strong>MAY</strong> contain a URL that can be processed as a normal <code>Out-of-Band</code> message.</p>
<p>If the agent performs a HTTP GET with the <code>Accept</code> header requesting <code>application/json</code> MIME type the response can either contain the message in <code>json</code> or result in a redirect, processing of the response should attempt to determine which response type is received and process the message accordingly.</p>
<h4 id="out-of-band-message-publishing">Out-of-Band Message Publishing<a class="headerlink" href="#out-of-band-message-publishing" title="Permanent link">&para;</a></h4>
<p>The <em>sender</em> will publish or transmit the out-of-band message URL in a manner available to the intended <em>receiver</em>. After publishing, the sender is in the <em>await-response</em> state, will the receiver is in the <em>prepare-response</em> state.</p>
<h4 id="out-of-band-message-processing">Out-of-Band Message Processing<a class="headerlink" href="#out-of-band-message-processing" title="Permanent link">&para;</a></h4>
<p>If the receiver receives an <code>out-of-band</code> message in the form of a QR code, the receiver should attempt to decode the QR code to an out-of-band message URL for processing.</p>
<p>When the receiver receives the out-of-band message URL, there are two possible user flows, depending on whether the individual has an Aries agent. If the individual is new to Aries, they will likely load the URL in a browser. The resulting page <strong>SHOULD</strong> contain instructions on how to get started by installing an Aries agent. That install flow will transfer the out-of-band message to the newly installed software.</p>
<p>A user that already has those steps accomplished will have the URL received by software directly. That software will attempt to base64URL decode the string and can read the out-of-band message directly out of the <code>oob</code> query parameter, without loading the URL. If this process fails then the software should attempt the steps to <a href="#url-shortening">process a shortened URL</a>. </p>
<blockquote>
<p><strong>NOTE</strong>: In receiving the out-of-band message, the base64url decode implementation used <strong>MUST</strong>
correctly decode padded and unpadded base64URL encoded data.</p>
</blockquote>
<p>If the receiver wants to respond to the out-of-band message, they will use the information in the message to prepare the request, including:</p>
<ul>
<li>the <code>handshake_protocols</code> or <code>requests~attach</code> to determine the acceptable response messages, and</li>
<li>the <code>services</code> block to determine how to get the response to the sender.</li>
</ul>
<h4 id="correlating-responses-to-out-of-band-messages">Correlating responses to Out-of-Band messages<a class="headerlink" href="#correlating-responses-to-out-of-band-messages" title="Permanent link">&para;</a></h4>
<p>The response to an out-of-band message <strong>MUST</strong> set its <code>~thread.pthid</code> equal to the <code>@id</code> property of the out-of-band message.</p>
<p>Example referencing an explicit invitation:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>{
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>  &quot;@id&quot;: &quot;a46cdd0f-a2ca-4d12-afbf-2e78a6f1f3ef&quot;,
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>  &quot;@type&quot;: &quot;https://didcomm.org/didexchange/1.0/request&quot;,
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>  &quot;~thread&quot;: { &quot;pthid&quot;: &quot;032fbd19-f6fd-48c5-9197-ba9a47040470&quot; },
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>  &quot;label&quot;: &quot;Bob&quot;,
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>  &quot;did&quot;: &quot;B.did@B:A&quot;,
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>  &quot;did_doc~attach&quot;: {
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>    &quot;base64&quot;: &quot;eyJ0eXAiOiJKV1Qi... (bytes omitted)&quot;,
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>    &quot;jws&quot;: {
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>      &quot;header&quot;: {
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>        &quot;kid&quot;: &quot;did:key:z6MkmjY8GnV5i9YTDtPETC2uUAW6ejw3nk5mXF5yci5ab7th&quot;
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>      },
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>      &quot;protected&quot;: &quot;eyJhbGciOiJFZERTQSIsImlhdCI6MTU4Mzg4... (bytes omitted)&quot;,
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>      &quot;signature&quot;: &quot;3dZWsuru7QAVFUCtTd0s7uc1peYEijx4eyt5... (bytes omitted)&quot;
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>    }
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a>  }
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a>}
</code></pre></div>
<h4 id="response-transmission">Response Transmission<a class="headerlink" href="#response-transmission" title="Permanent link">&para;</a></h4>
<p>The response message from the receiver is encoded according to the standards of the DIDComm encryption envelope, using the <code>service</code> block present in (or resolved from) the out-of-band invitation.</p>
<h5 id="reusing-connections">Reusing Connections<a class="headerlink" href="#reusing-connections" title="Permanent link">&para;</a></h5>
<p>If an out-of-band invitation has a DID in the <code>services</code> block, and the <em>receiver</em> determines it has previously established a connection with that DID, the receiver <strong>MAY</strong> send its response on the established connection. See <a href="#reuse-messages">Reuse Messages</a> for details.</p>
<h5 id="receiver-error-handling">Receiver Error Handling<a class="headerlink" href="#receiver-error-handling" title="Permanent link">&para;</a></h5>
<p>If the <em>receiver</em> is unable to process the out-of-band message, the receiver may respond with a <a href="../0035-report-problem/">Problem Report</a> identifying the problem using a DIDComm message. As with any response, the ~thread decorator of the <code>pthid</code> <strong>MUST</strong> be the <code>@id</code> of the out-of-band message. The problem report <strong>MUST</strong> be in the protocol of an expected response. An example of an error that might come up is that the receiver is not able to handle any of the proposed protocols in the out-of-band message. The receiver <strong>MAY</strong> include in the problem report a <a href="../0056-service-decorator/README.md"><code>~service</code> decorator</a> that allows the sender to respond to the out-of-band message with a DIDComm message.</p>
<h4 id="response-processing">Response processing<a class="headerlink" href="#response-processing" title="Permanent link">&para;</a></h4>
<p>The <em>sender</em> <strong>MAY</strong> look up the corresponding out-of-band message identified in the response's <code>~thread.pthid</code> to determine whether it should accept the response. Information about the related out-of-band message protocol may be required to provide the sender with context about processing the response and what to do after the protocol completes.</p>
<h5 id="sender-error-handling">Sender Error Handling<a class="headerlink" href="#sender-error-handling" title="Permanent link">&para;</a></h5>
<p>If the <em>sender</em> receives a <a href="../0035-report-problem/">Problem Report</a> message from the receiver, the sender has several options for responding. The sender will receive the message as part of an offered protocol in the out-of-band message.</p>
<p>If the receiver did not include a <code>~service</code> decorator in the response, the sender can only respond if it is still in session with the receiver. For example, if the sender is a website that displayed a QR code for the receiver to scan, the sender could create a new, presumably adjusted, out-of-band message, encode it and present it to the user in the same way as before.</p>
<p>If the receiver included a <a href="../0056-service-decorator/README.md"><code>~service</code> decorator</a> in the response, the sender can provide a new message to the receiver, even a new version of the original out-of-band message, and send it to the receiver. The new message <strong>MUST</strong> include a <code>~thread</code> decorator with the <code>thid</code> set to the <code>@id</code> from the problem report message.</p>
<h2 id="drawbacks">Drawbacks<a class="headerlink" href="#drawbacks" title="Permanent link">&para;</a></h2>
<ul>
<li>Publicly displayed out-of-band messages (say, a slide at the end of a presentation) all use the same DID. This is not a problem for institutions, and only provides a minor increase in correlation over sharing an endpoint, key, and routing information in a way that is observable by multiple parties.</li>
</ul>
<h2 id="prior-art">Prior art<a class="headerlink" href="#prior-art" title="Permanent link">&para;</a></h2>
<ul>
<li>The out-of-band message/response process is similar to other key exchange protocols.</li>
<li>The <a href="https://github.com/hyperledger/aries-rfcs/tree/main../../features/0160-connection-protocol">Connections</a> and <a href="https://github.com/hyperledger/aries-rfcs/tree/main../../features/0023-did-exchange">DID Exchange</a> protocols have (or had) their own <code>invitation</code> method.</li>
<li>The <code>~service</code> decorator in combination with a request/response-type protocol message (such as present-proof/request) has previously used in place of the out-of-band <code>request</code> message.</li>
</ul>
<h2 id="unresolved-questions">Unresolved questions<a class="headerlink" href="#unresolved-questions" title="Permanent link">&para;</a></h2>
<ul>
<li>None</li>
</ul>
<h2 id="implementations">Implementations<a class="headerlink" href="#implementations" title="Permanent link">&para;</a></h2>
<p>The following lists the implementations (if any) of this RFC. Please do a pull request to add your implementation. If the implementation is open source, include a link to the repo or to the implementation within the repo. Please be consistent in the "Name" field so that a mechanical processing of the RFCs can generate a list of all RFCs supported by an Aries implementation.</p>
<table>
<thead>
<tr>
<th>Name / Link</th>
<th>Implementation Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../0360-use-did-key/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Aries RFC 0360 did:key Usage">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Aries RFC 0360 did:key Usage
              </div>
            </div>
          </a>
        
        
          
          <a href="../0441-present-proof-best-practices/" class="md-footer__link md-footer__link--next" aria-label="Next: 0441 Prover and Verifier Best Practices for Proof Presentation">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                0441 Prover and Verifier Best Practices for Proof Presentation
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.expand", "navigation.footer", "navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.a7c05c9e.min.js"></script>
      
    
  </body>
</html>
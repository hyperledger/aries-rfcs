
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../SECURITY/">
      
      
        <link rel="next" href="../0004-agents/">
      
      
      <link rel="icon" href="/collateral/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.21">
    
    
      
        <title>Aries RFC 0003 Protocols - Hyperledger Aries Interoperability Profiles / RFCs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#aries-rfc-0003-protocols" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Hyperledger Aries Interoperability Profiles / RFCs" class="md-header__button md-logo" aria-label="Hyperledger Aries Interoperability Profiles / RFCs" data-md-component="logo">
      
  <img src="/collateral/Hyperledger_Aries_Logo_White.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hyperledger Aries Interoperability Profiles / RFCs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Aries RFC 0003 Protocols
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hyperledger/aries-rfcs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    hyperledger/aries-rfcs
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  Welcome

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../MAINTAINERS/" class="md-tabs__link">
          
  
  Governance

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  AIP 2.0

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../concepts/0003-protocols/" class="md-tabs__link">
          
  
  ADOPTED

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../concepts/0004-agents/" class="md-tabs__link">
          
  
  ACCEPTED

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../features/0032-message-timing/" class="md-tabs__link">
          
  
  DEMONSTRATED

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../features/0028-introduce/" class="md-tabs__link">
          
  
  PROPOSED

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../features/0024-didcomm-over-xmpp/" class="md-tabs__link">
          
  
  STALLED

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../concepts/0013-overlays/" class="md-tabs__link">
          
  
  RETIRED

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Hyperledger Aries Interoperability Profiles / RFCs" class="md-nav__button md-logo" aria-label="Hyperledger Aries Interoperability Profiles / RFCs" data-md-component="logo">
      
  <img src="/collateral/Hyperledger_Aries_Logo_White.png" alt="logo">

    </a>
    Hyperledger Aries Interoperability Profiles / RFCs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hyperledger/aries-rfcs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    hyperledger/aries-rfcs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Welcome
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../RFCindex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    All RFCs by Status
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../0000-template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RFC Template
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../0000-template-protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Protocol RFC Template
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Governance
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Governance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MAINTAINERS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maintainers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../github-issues/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Submitting Issues
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LICENSE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SECURITY/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    AIP 2.0
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            AIP 2.0
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Aries RFC 0003 Protocols
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Aries RFC 0003 Protocols
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motivation" class="md-nav__link">
    <span class="md-ellipsis">
      Motivation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial" class="md-nav__link">
    <span class="md-ellipsis">
      Tutorial
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tutorial">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-a-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      What is a Protocol?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relationship-to-apis" class="md-nav__link">
    <span class="md-ellipsis">
      Relationship to APIs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decentralized" class="md-nav__link">
    <span class="md-ellipsis">
      Decentralized
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#types-of-protocols" class="md-nav__link">
    <span class="md-ellipsis">
      Types of Protocols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-design" class="md-nav__link">
    <span class="md-ellipsis">
      Agent Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composable" class="md-nav__link">
    <span class="md-ellipsis">
      Composable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message-types" class="md-nav__link">
    <span class="md-ellipsis">
      Message Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ingredients" class="md-nav__link">
    <span class="md-ellipsis">
      Ingredients
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-define-a-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      How to Define a Protocol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Security Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#message-type-and-protocol-identifier-uris" class="md-nav__link">
    <span class="md-ellipsis">
      Message Type and Protocol Identifier URIs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semver-rules-for-protocols" class="md-nav__link">
    <span class="md-ellipsis">
      Semver Rules for Protocols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#state-details-and-state-machines" class="md-nav__link">
    <span class="md-ellipsis">
      State Details and State Machines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roles-participants-parties-and-controllers" class="md-nav__link">
    <span class="md-ellipsis">
      Roles, Participants, Parties, and Controllers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instructions-for-protocol-rfcs" class="md-nav__link">
    <span class="md-ellipsis">
      Instructions for Protocol RFCs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawbacks" class="md-nav__link">
    <span class="md-ellipsis">
      Drawbacks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rationale-and-alternatives" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale and alternatives
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prior-art" class="md-nav__link">
    <span class="md-ellipsis">
      Prior art
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prior art">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpmn" class="md-nav__link">
    <span class="md-ellipsis">
      BPMN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wsdl" class="md-nav__link">
    <span class="md-ellipsis">
      WSDL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#swagger-openapi" class="md-nav__link">
    <span class="md-ellipsis">
      Swagger / OpenAPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other" class="md-nav__link">
    <span class="md-ellipsis">
      Other
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unresolved-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Unresolved questions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementations" class="md-nav__link">
    <span class="md-ellipsis">
      Implementations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0004-agents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0004 Agents
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0005-didcomm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0005 DID Communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0008-message-id-and-threading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0008 Message ID and Threading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0011-decorators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0011 Decorators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0015-acks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0015 ACKs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0017-attachments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0017 Attachments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0019-encryption-envelope/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0019 Encryption Envelope
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0020-message-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0020 Message Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0023-did-exchange/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0023 DID Exchange Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0025-didcomm-transports/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0025 DIDComm Transports
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0035-report-problem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0035 Report Problem Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0044-didcomm-file-and-mime-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0044 DIDComm File and MIME Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0046-mediators-and-relays/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0046 Mediators and Relays
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0047-json-ld-compatibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0047 JSON-LD Compatibility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0048-trust-ping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0048 Trust Ping Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0050-wallets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0050 Wallets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0092-transport-return-route/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0092 Transports Return Route
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0094-cross-domain-messaging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0094 Cross-Domain Messaging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0095-basic-message/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0095 Basic Message Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0183-revocation-notification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0183 Revocation Notification 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0211-route-coordination/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0211 Mediator Coordination Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0360-use-did-key/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0360 did:key Usage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0434-outofband/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0434 Out-of-Band Protocol 1.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0441-present-proof-best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0441 Prover and Verifier Best Practices for Proof Presentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0453-issue-credential-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0453 Issue Credential Protocol 2.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0454-present-proof-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0454 Present Proof Protocol 2.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0510-dif-pres-exch-attach/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0510 Presentation-Exchange Attachment format for requesting and presenting proofs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0519-goal-codes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0519 Goal Codes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0557-discover-features-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0557 Discover Features Protocol v2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0592-indy-attachments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0592 Indy Attachment Formats for Requesting and Presenting Credentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0593-json-ld-cred-attach/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aries RFC 0593 JSON-LD Credential Attachment format for requesting and issuing credentials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ADOPTED
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            ADOPTED
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0003-protocols/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0003 Protocols
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0005-didcomm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0005 DID Communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0008-message-id-and-threading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0008 Message ID and Threading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0011-decorators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0011 Decorators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0015-acks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0015 ACKs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0017-attachments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0017 Attachments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0019-encryption-envelope/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0019 Encryption Envelope
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0020-message-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0020 Message Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0021-didcomm-message-anatomy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0021 DIDComm Message Anatomy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0023-did-exchange/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0023 DID Exchange v1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0025-didcomm-transports/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0025 DIDComm Transports
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0031-discover-features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0031 Discover Features Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0035-report-problem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0035 Report Problem Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0036-issue-credential/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0036 Issue Credential Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0037-present-proof/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0037 Present Proof Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0048-trust-ping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0048 Trust Ping Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0092-transport-return-route/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0092 Transports Return Route
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0094-cross-domain-messaging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0094 Cross-Domain Messaging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0095-basic-message/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0095 Basic Message Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0160-connection-protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0160 Connection Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0211-route-coordination/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0211 Mediator Coordination Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0302-aries-interop-profile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0302 Aries Interop Profile
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0360-use-did-key/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0360 did:key Usage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0434-outofband/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0434 Out-of-Band Protocol 1.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0441-present-proof-best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0441 Prover and Verifier Best Practices for Proof Presentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0453-issue-credential-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0453 Issue Credential Protocol 2.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0454-present-proof-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0454 Present Proof Protocol 2.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0496-transition-to-oob-and-did-exchange/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0496 Transition to the Out of Band Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0510-dif-pres-exch-attach/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0510 Presentation-Exchange Attachment format for requesting and presenting proofs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0557-discover-features-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0557 Discover Features Protocol v2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0592-indy-attachments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0592 Indy Attachment Formats for Requesting and Presenting Credentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0593-json-ld-cred-attach/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0593 JSON-LD Credential Attachment format for requesting and issuing credentials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ACCEPTED
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            ACCEPTED
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0004-agents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0004 Agents
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0006-ssi-notation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0006 SSI Notation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0044-didcomm-file-and-mime-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0044 DIDComm File and MIME Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0046-mediators-and-relays/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0046 Mediators and Relays
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0047-json-ld-compatibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0047 JSON-LD Compatibility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0049-repudiation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0049 Repudiation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0050-wallets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0050 Wallets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0183-revocation-notification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0183 Revocation Notification 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0519-goal-codes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0519 Goal Codes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0587-encryption-envelope-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0587 Encryption Envelope v2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0646-bbs-credentials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0646 W3C Credential Exchange using BBS+ Signatures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0685-pickup-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0685 Pickup Protocol 2.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0721-revocation-notification-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0721 Revocation Notification 2.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0793-unqualfied-dids-transition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0793 Unqualified DID Transition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0794-did-rotate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0794 DID Rotate 1.0
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DEMONSTRATED
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            DEMONSTRATED
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0032-message-timing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0032 Message Timing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0042-lox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0042 LOX -- A more secure pluggable framework for protecting wallet keys
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0043-l10n/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0043 l10n (Locali[s|z]ation)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0113-question-answer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0113 Question Answer Protocol 0.9
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0509-action-menu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0509 Action Menu Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0748-n-wise-did-exchange/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0748 N-wise DID Exchange Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0755-oca-for-aries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0755 Overlays Capture Architecture (OCA) For Aries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0756-oca-for-aries-style-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0756 OCA for Aries Style Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0780-data-urls-images/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0780 Use Data URLs for Images and More in Credential Attributes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0804-didcomm-rpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0804 DIDComm Remote Procedure Call (DRPC)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0809-w3c-data-integrity-credential-attachment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0809 W3C Verifiable Credential Data Integrity Attachment format for requesting and issuing credentials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PROPOSED
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            PROPOSED
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0028-introduce/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0028 Introduce Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0034-message-tracing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0034 Message Tracing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0056-service-decorator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0056 Service Decorator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0066-non-repudiable-cryptographic-envelope/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0066 Non-Repudiable Signature for Cryptographic Envelope
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0067-didcomm-diddoc-conventions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0067 DIDComm DID document conventions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0074-didcomm-best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0074 DIDComm Best Practices
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0103-indirect-identity-control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0103 Indirect Identity Control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0104-chained-credentials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0104 Chained Credentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0124-did-resolution-protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0124 DID Resolution Protocol 0.9
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0167-data-consent-lifecycle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0167 Data Consent Lifecycle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0212-pickup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0212 Pickup Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0213-transfer-policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0213 Transfer Policy Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0214-help-me-discover/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0214 "Help Me Discover" Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0231-biometric-service-provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0231 Biometric Service Provider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0268-unified-didcomm-agent-deeplinking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0268 Unified DIDCOMM Deeplinking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0270-interop-test-suite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0270 Interop Test Suite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0345-community-coordinated-update/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0345 Community Coordinated Update
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0346-didcomm-between-two-mobile-agents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0346 DIDComm Between Two Mobile Agents Using Cloud Agent Mediator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0347-proof-negotiation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0347 Proof Negotiation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0430-machine-readable-governance-frameworks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0430 Machine-Readable Governance Frameworks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0440-kms-architectures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0440 KMS Architectures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0511-dif-cred-manifest-attach/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0511 Credential-Manifest Attachment format for requesting and presenting credentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0559-pppu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0559 Privacy-Preserving Proof of Uniqueness
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0566-issuer-hosted-custodidal-agents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0566 Issuer-Hosted Custodial Agents
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0641-linking-binary-objects-to-credentials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0641 Linking binary objects to credentials using hash based references
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0693-credential-representation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0693 Cross-Platform Credential Representation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0699-push-notifications-apns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0699 Push Notifications apns Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0700-oob-through-redirect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0700 Out-of-Band through redirect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0728-device-binding-attachments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0728 Device Binding Attachments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0734-push-notifications-fcm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0734 Push Notifications fcm Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0757-push-notification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0757 Push Notification
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0771-anoncreds-attachments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0771 AnonCreds Attachment Formats for Requesting and Presenting Credentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0799-long-term-support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0799 Aries Long Term Support Releases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    STALLED
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            STALLED
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0024-didcomm-over-xmpp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0024 DIDComm over XMPP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0029-message-trust-contexts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0029 Message Trust Contexts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0030-sync-connection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0030 Sync Connection Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0075-payment-decorators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0075 Payment Decorators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0114-predefined-identities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0114 Predefined Identities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0116-evidence-exchange/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0116 Evidence Exchange Protocol 0.9
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0193-coin-flip/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0193 Coin Flip Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0207-credential-fraud-threat-model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0207 Credential Fraud Threat Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0217-linkable-message-paths/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0217 Linkable Message Paths
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0249-rich-schema-contexts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0249 Aries Rich Schema Contexts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0250-rich-schemas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0250 Rich Schema Objects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0257-private-credential-issuance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0257 Private Credential Issuance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0281-rich-schemas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0281 Aries Rich Schemas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0289-toip-stack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0289 The Trust Over IP Stack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0309-didauthz/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0309 DIDAuthZ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0327-crypto-service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0327 Crypto service Protocol 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0334-jwe-envelope/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0334 JWE envelope 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0335-http-over-didcomm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0335 HTTP Over DIDComm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0351-purpose-decorator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0351 Purpose Decorator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0418-rich-schema-encoding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0418 Aries Rich Schema Encoding Objects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0420-rich-schemas-common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0420 Rich Schema Objects Common
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0428-prepare-issue-rich-credential/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0428 Prerequisites to Issue Rich Credential
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0429-prepare-req-rich-pres/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0429 Prerequisites to Request Rich Presentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0445-rich-schema-mapping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0445 Aries Rich Schema Mapping
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0446-rich-schema-cred-def/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0446 Aries Rich Schema Credential Definition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0478-coprotocols/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0478 Coprotocols
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0482-coprotocol-protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0482 Coprotocol Protocol 0.5
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RETIRED
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            RETIRED
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0013-overlays/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0013 Overlays
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/0051-dkms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0051 Decentralized Key Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0234-signature-decorator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0234 Signature Decorator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0303-v01-credential-exchange/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0303 V0.1 Credential Exchange (Deprecated)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0317-please-ack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0317 Please ACK Decorator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0348-transition-msg-type-to-https/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0348 Transition Message Type to HTTPs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/0627-static-peer-dids/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0627 Static Peer DIDs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motivation" class="md-nav__link">
    <span class="md-ellipsis">
      Motivation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial" class="md-nav__link">
    <span class="md-ellipsis">
      Tutorial
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tutorial">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-a-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      What is a Protocol?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relationship-to-apis" class="md-nav__link">
    <span class="md-ellipsis">
      Relationship to APIs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decentralized" class="md-nav__link">
    <span class="md-ellipsis">
      Decentralized
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#types-of-protocols" class="md-nav__link">
    <span class="md-ellipsis">
      Types of Protocols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-design" class="md-nav__link">
    <span class="md-ellipsis">
      Agent Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composable" class="md-nav__link">
    <span class="md-ellipsis">
      Composable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message-types" class="md-nav__link">
    <span class="md-ellipsis">
      Message Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ingredients" class="md-nav__link">
    <span class="md-ellipsis">
      Ingredients
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-define-a-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      How to Define a Protocol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Security Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#message-type-and-protocol-identifier-uris" class="md-nav__link">
    <span class="md-ellipsis">
      Message Type and Protocol Identifier URIs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semver-rules-for-protocols" class="md-nav__link">
    <span class="md-ellipsis">
      Semver Rules for Protocols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#state-details-and-state-machines" class="md-nav__link">
    <span class="md-ellipsis">
      State Details and State Machines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roles-participants-parties-and-controllers" class="md-nav__link">
    <span class="md-ellipsis">
      Roles, Participants, Parties, and Controllers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instructions-for-protocol-rfcs" class="md-nav__link">
    <span class="md-ellipsis">
      Instructions for Protocol RFCs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawbacks" class="md-nav__link">
    <span class="md-ellipsis">
      Drawbacks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rationale-and-alternatives" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale and alternatives
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prior-art" class="md-nav__link">
    <span class="md-ellipsis">
      Prior art
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prior art">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpmn" class="md-nav__link">
    <span class="md-ellipsis">
      BPMN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wsdl" class="md-nav__link">
    <span class="md-ellipsis">
      WSDL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#swagger-openapi" class="md-nav__link">
    <span class="md-ellipsis">
      Swagger / OpenAPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other" class="md-nav__link">
    <span class="md-ellipsis">
      Other
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unresolved-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Unresolved questions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementations" class="md-nav__link">
    <span class="md-ellipsis">
      Implementations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="aries-rfc-0003-protocols">Aries RFC 0003: Protocols<a class="headerlink" href="#aries-rfc-0003-protocols" title="Permanent link">&para;</a></h1>
<ul>
<li>Authors: <a href="mailto:daniel.hardman@gmail.com">Daniel Hardman</a></li>
<li>Status: <a href="../../#adopted">ADOPTED</a></li>
<li>Since: 2019-04-01</li>
<li>Status Note: standards track and beginning to influence many mental models, but not yet <a href="../../#rfc-lifecycle">ADOPTED</a>.</li>
<li>Supersedes: <a href="https://github.com/hyperledger/indy-hipe/pull/69">Indy PR #69</a></li>
<li>Start Date: 2018-12-28</li>
<li>Tags: <a href="../../tags/#concept">concept</a></li>
</ul>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>Defines peer-to-peer application-level protocols
in the context of interactions among <a href="../0004-agents/">agent-like</a> things,
and shows how they should be designed and documented.</p>
<p><a href="https://docs.google.com/presentation/d/15UAkh_2WfDk7wlto7pSL7YU9NJr_XVMgGAOeNIRbzK8/edit#slide=id.p"><img alt="protocol" src="protocol.png" /></a></p>
<h2 id="table-of-contents">Table of Contents<!-- omit in toc --><a class="headerlink" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#aries-rfc-0003-protocols">Aries RFC 0003: Protocols</a></li>
<li><a href="#summary">Summary</a></li>
<li><a href="#motivation">Motivation</a></li>
<li><a href="#tutorial">Tutorial</a><ul>
<li><a href="#what-is-a-protocol">What is a Protocol?</a></li>
<li><a href="#relationship-to-apis">Relationship to APIs</a></li>
<li><a href="#decentralized">Decentralized</a></li>
<li><a href="#types-of-protocols">Types of Protocols</a></li>
<li><a href="#agent-design">Agent Design</a></li>
<li><a href="#composable">Composable</a></li>
<li><a href="#message-types">Message Types</a></li>
<li><a href="#handling-unrecognized-items-in-messages">Handling Unrecognized Items in Messages</a></li>
<li><a href="#ingredients">Ingredients</a></li>
<li><a href="#how-to-define-a-protocol">How to Define a Protocol</a></li>
<li><a href="#security-considerations">Security Considerations</a></li>
<li><a href="#replay-attacks">Replay Attacks</a></li>
</ul>
</li>
<li><a href="#reference">Reference</a><ul>
<li><a href="#message-type-and-protocol-identifier-uris">Message Type and Protocol Identifier URIs</a></li>
<li><a href="#mturi">MTURI</a></li>
<li><a href="#piuri">PIURI</a></li>
<li><a href="#semver-rules-for-protocols">Semver Rules for Protocols</a></li>
<li><a href="#semver-examples">Semver Examples</a><ul>
<li><a href="#initiator">Initiator</a></li>
<li><a href="#recipient-rules">Recipient Rules</a></li>
</ul>
</li>
<li><a href="#state-details-and-state-machines">State Details and State Machines</a></li>
<li><a href="#state-machines">State Machines</a></li>
<li><a href="#processing-points">Processing Points</a></li>
<li><a href="#roles-participants-parties-and-controllers">Roles, Participants, Parties, and Controllers</a></li>
<li><a href="#roles">Roles</a></li>
<li><a href="#participants">Participants</a></li>
<li><a href="#parties">Parties</a></li>
<li><a href="#controllers">Controllers</a></li>
<li><a href="#instructions-for-protocol-rfcs">Instructions for Protocol RFCs</a></li>
</ul>
</li>
<li><a href="#drawbacks">Drawbacks</a></li>
<li><a href="#rationale-and-alternatives">Rationale and alternatives</a></li>
<li><a href="#prior-art">Prior art</a><ul>
<li><a href="#bpmn">BPMN</a></li>
<li><a href="#wsdl">WSDL</a></li>
<li><a href="#swagger--openapi">Swagger / OpenAPI</a></li>
<li><a href="#other">Other</a></li>
</ul>
</li>
<li><a href="#unresolved-questions">Unresolved questions</a></li>
<li><a href="#implementations">Implementations</a></li>
</ul>
<h2 id="motivation">Motivation<a class="headerlink" href="#motivation" title="Permanent link">&para;</a></h2>
<p>APIs in the style of Swagger are familiar to nearly all developers, and it's a common assumption that we should use them to solve the problems at hand in the decentralized identity space. However, to truly decentralize, we must think about interactions at a higher level of generalization. Protocols can model all APIs, but not the other way around. This matters. We need to explain why.</p>
<p>We also need to show how a protocol is defined, so the analog to defining a Swagger API is demystified.</p>
<h2 id="tutorial">Tutorial<a class="headerlink" href="#tutorial" title="Permanent link">&para;</a></h2>
<h3 id="what-is-a-protocol">What is a Protocol?<a class="headerlink" href="#what-is-a-protocol" title="Permanent link">&para;</a></h3>
<p>A <strong>protocol</strong> is a recipe for a stateful interaction. Protocols are all
around us, and are so ordinary that we take them for granted. Each of the
following interactions is stateful, and has conventions that constitute
a sort of "recipe":</p>
<ul>
<li>Ordering food at a restaurant</li>
<li>Buying a house</li>
<li>Playing a game of chess, checkers, tic-tac-toe, etc.</li>
<li>Bidding on an item in an online auction.</li>
<li>Going through security at the airport when we fly</li>
<li>Applying for a loan</li>
</ul>
<p>In the context of decentralized identity, protocols manifest at many different levels of the stack: at the lowest levels of networking, in cryptographic algorithms like Diffie Hellman, in the management of DIDs, in the conventions of <a href="../0005-didcomm/">DIDComm</a>, and in higher-level interactions that solve problems for people with only minimal interest in the technology they're using. However, this RFC focuses on the last of these layers, where use cases and personas are transformed into ../../features with obvious social value like:</p>
<ul>
<li><a href="../../features/0023-did-exchange/">Connecting with one another</a></li>
<li><a href="../../features/0036-issue-credential/">Requesting and issuing credentials</a></li>
<li><a href="../../features/0037-present-proof/">Proving things using credentials</a></li>
<li><a href="../../features/0031-discover-features/">Discovering things</a></li>
<li>Delegating</li>
<li>Buying and Selling</li>
<li>Negotiating</li>
<li>Enacting and enforcing contracts</li>
<li>Putting things in escrow (and taking them out again)</li>
<li>Scheduling</li>
<li>Auditing</li>
<li>Reporting errors</li>
<li>Cooperative debugging</li>
</ul>
<p>When "protocol" is used in an Aries context without any qualifying adjective, it is referencing a recipe for a high-level interaction like these. Lower-level protocols are usually described more specifically and possibly with other verbiage: "cryptographic algorithms", "DID management procedures", "DIDComm conventions", "transports", and so forth. This helps us focus "protocol" on the place where application developers that consume Aries do most of the work that creates value.</p>
<h3 id="relationship-to-apis">Relationship to APIs<a class="headerlink" href="#relationship-to-apis" title="Permanent link">&para;</a></h3>
<p>The familiar world of web APIs is a world of protocols, but it comes with constraints antithetical to decentralized identity:</p>
<ul>
<li>It assumes all interactions are between a client and a server--either two parties, or N parties mediated by a central server. Thus, the server is a natural locus for surveillance and hacking.</li>
<li>It assumes security is asymmetric--not using DIDs, but driven by certs on a server and by a session for the client.</li>
<li>It assumes the transport is HTTP. This is problematic for pure mobile-to-mobile, or for use cases where the transport is complex or asymmetric.</li>
<li>Because the server can never initiate an interaction, it requires at least one party to be continuously online.</li>
</ul>
<p>Protocols impose none of these constraints. Web APIs can easily be modeled as protocols where the transport is HTTP and the payload is a message, and the Aries community actively does this. We are not opposed to APIs. We just want to describe and standardize the higher level abstraction so we don't have a web solution and a BlueTooth solution that are diverged for no good reason.</p>
<h3 id="decentralized">Decentralized<a class="headerlink" href="#decentralized" title="Permanent link">&para;</a></h3>
<p>As used in the agent/DIDComm world, protocols are <em>decentralized</em>. This means
there is not an overseer for the protocol, guaranteeing information flow,
enforcing behaviors, and ensuring a coherent view. It is a <a href="https://www.reactivemanifesto.org/glossary#Protocol">subtle but
important divergence from API-centric approaches</a>, where a server holds
state against which all other parties (clients) operate. Instead, all
parties are peers, and they interact by mutual consent and with a (hopefully)
shared understanding of the rules and goals. Protocols are like a dance&mdash;not one
that's choreographed or directed, but one where the parties make dynamic
decisions and react to them.</p>
<p><img alt="dance" src="dance.jpg" /></p>
<h3 id="types-of-protocols">Types of Protocols<a class="headerlink" href="#types-of-protocols" title="Permanent link">&para;</a></h3>
<p>The simplest protocol style is <strong>notification</strong>. This style
involves two parties, but it is one-way: the <code>notifier</code> emits a message,
and the protocol ends when the <code>notified</code> receives it. The <a href="../../features/0095-basic-message/">basic message protocol</a> uses this style.</p>
<p><img alt="notification" src="notification.png" /></p>
<p>Slightly more complex is the <strong>request-response</strong> protocol style.
This style involve two parties, with the <code>requester</code> making the first move,
and the <code>responder</code> completing the interaction. The <a href="../../features/0031-discover-features/">Discover Features Protocol</a> uses this style. Note that
with protocols as Aries models them (and unlike an HTTP request), the request-response messages are
asynchronous.</p>
<p><img alt="request-response" src="request-response.png" /></p>
<p>However, more complex protocols exist. The <a href="../../features/0028-introduce/">Introduce Protocol</a> involves three parties,
not two. The <a href="../../features/0036-issue-credential/">issue credential protocol</a>
includes up to six message types (including <code>ack</code> and <code>problem_report</code>), two of which (<code>proposal</code> and <code>offer</code>)
can be used to interactively negotiate details of the elements of the subsequent messages in the protocol.</p>
<blockquote>
<p>See <a href="#roles-participants-parties-and-controllers">this subsection</a> for definitions of the terms
"role", "participant", and "party".</p>
</blockquote>
<h3 id="agent-design">Agent Design<a class="headerlink" href="#agent-design" title="Permanent link">&para;</a></h3>
<p>Protocols are <em>the</em> key unit of interoperable extensibility in agents and agent-like things. To add a
new interoperable feature to an agent, give it the ability to handle a
new protocol.</p>
<p>When agents receive messages, they map the messages to a <strong>protocol handler</strong>
and possibly to an <strong>interaction state</strong> that was previously persisted. This is the analog to routes, route handlers, and sessions in web APIs, and could actually be implemented as such if the transport for the protocol is HTTP. The
protocol handler is code that knows the rules of a particular protocol; the
interaction state tracks progress through an interaction. For more information,
see the <a href="../0004-agents/#general-patterns">agents explainer&mdash;RFC 0004</a>
and the <a href="../0005-didcomm/">DIDComm explainer&mdash;RFC 0005</a>.</p>
<h3 id="composable">Composable<a class="headerlink" href="#composable" title="Permanent link">&para;</a></h3>
<p>Protocols are <em>composable</em>--meaning that you can build complex ones from simple ones.
The protocol for asking someone to repeat their last sentence can be part of
the protocol for ordering food at a restaurant. It's common to ask a potential
driver's license holder to prove their street address before issuing the license.
In protocol terms, this is nicely modeled as the <a href="../../features/0037-present-proof/">present proof</a>
being invoked in the middle of an <a href="../../features/0036-issue-credential/">issue credential</a> protocol.</p>
<p>When we run one protocol <em>inside</em> another, we call the inner protocol a
<strong>subprotocol</strong>, and the outer protocol a <strong>superprotocol</strong>. A given protocol
may be a subprotocol in some contexts, and a standalone protocol in others.
In some contexts, a protocol may be a subprotocol from one perspective, and
a superprotocol from another (as when protocols are nested at least 3 deep).</p>
<p><img alt="super- and subprotocols" src="super-sub.png" /></p>
<p>Commonly, protocols wait for subprotocols to complete, and then they continue.
A good example of this is mentioned above&mdash;starting an issue credential flow,
but requiring the potential issuer and/or the potential holder to prove something
to one another before completing the process.</p>
<p>In other cases, a protocol B is not "contained" inside protocol A.
Rather, A triggers B, then continues in parallel,
without waiting for B to complete. This <strong>coprotocol</strong> relationship is analogous to
relationship between <a href="https://en.wikipedia.org/wiki/Coroutine">coroutines in computer science</a>.
In the <a href="../../features/0028-introduce/">Introduce Protocol</a>,
the final step is to begin a connection protocol between the two introducees--
but <a href="../../features/0028-introduce/#goal">the introduction coprotocol completes when the connect coprotocol
<em>starts</em>, not when it <em>completes</em></a>.</p>
<p><img alt="co-protocols" src="co-protocols.png" /></p>
<h3 id="message-types">Message Types<a class="headerlink" href="#message-types" title="Permanent link">&para;</a></h3>
<p>A protocol includes a number of message types that enable the execution of an instance of a protocol.
Collectively, the message types of a protocol become the skeleton of its <em>interface</em>. Most of the message
types are defined with the protocol, but several key message types, notably <a href="../../features/0015-acks/">acks</a>
and <a href="../../features/0035-report-problem/">problem reports</a> are defined in separate RFCs and <code>adopted</code> into
a protocol. This ensures that the structure of such messages is standardized, but used in the context of the
protocol adopting the message types.</p>
<h4 id="handling-unrecognized-items-in-messages">Handling Unrecognized Items in Messages<a class="headerlink" href="#handling-unrecognized-items-in-messages" title="Permanent link">&para;</a></h4>
<p>In the <a href="#semver-rules-for-protocols">semver</a> section of this document there is discussion of the handling of mismatches in minor versions
supported and received. Notably, a recipient that supports a given minor version of a protocol less than that of a
received protocol message should ignore any unrecognized fields in the message. Such handling of unrecognized data items applies more generally than
just minor version mismatches. A recipient of a message from a supported major version of a protocol should ignore <strong>any</strong> unrecognized items
in a received message, even if the supported and minor versions are the same. When items from the message are ignored, the recipient may want
to send a warning <code>problem-report</code> message with code <code>fields-ignored</code>.</p>
<h3 id="ingredients">Ingredients<a class="headerlink" href="#ingredients" title="Permanent link">&para;</a></h3>
<p>A protocol has the following ingredients:</p>
<ul>
<li><a href="../../0000-template-protocol/#name-and-version"><em>Name</em></a> and <a href="#semver-rules-for-protocols">semver-compatible
  version</a></li>
<li><a href="#message-type-and-protocol-identifier-uris"><em>URI</em> that uniquely identifies it</a></li>
<li><a href="../../0000-template-protocol/#messages"><em>Messages (primary message family)</em></a></li>
<li><a href="../../0000-template-protocol/#adopted-messages"><em>Adopted messages</em></a></li>
<li><a href="../../0000-template-protocol/#roles"><em>Roles</em></a></li>
<li><a href="../../0000-template-protocol/#states"><em>State</em> and <em>sequencing rules</em></a></li>
<li><em>Events that can change state</em> -- notably, <em>messages</em>, but also <em>errors</em>,
<em>timeouts</em>, and other things</li>
<li><em>Constraints that provide trust and incentives</em></li>
</ul>
<h3 id="how-to-define-a-protocol">How to Define a Protocol<a class="headerlink" href="#how-to-define-a-protocol" title="Permanent link">&para;</a></h3>
<p>To define a protocol, write an RFC. Specific instructions for
protocol RFCs, and a discussion about the theory behind detailed
protocol ../../concepts, are given in the <a href="#instructions-for-protocol-rfcs">instructions for protocol RFCs</a>
and in the <a href="../../0000-template-protocol/">protocol RFC template</a>.</p>
<p>The <a href="tictactoe/">tictactoe protocol</a> is attached to this RFC as an example.</p>
<p><a href="tictactoe/"><img alt="tictactoe protocol" src="tictactoe/tile.png" /></a></p>
<h3 id="security-considerations">Security Considerations<a class="headerlink" href="#security-considerations" title="Permanent link">&para;</a></h3>
<h4 id="replay-attacks">Replay Attacks<a class="headerlink" href="#replay-attacks" title="Permanent link">&para;</a></h4>
<p>It should be noted that when defining a protocol that has domain specific requirements around preventing replay attacks, an <code>@id</code> property SHOULD be required. Given an <code>@id</code> field is most commonly set to be a UUID, it should provide randomness comparable to that of a nonce in preventing replay attacks. However, this means that care will be needed in processing of the <code>@id</code> field to make sure its value has not been used before. In some cases, nonces require being unpredictable as well. In this case, greater review should be taken as to how the <code>@id</code> field should be used in the domain specific protocol. In the event where the <code>@id</code> field is not adequate for preventing replay attacks, it's recommended that an additional <code>nonce</code> field be required by the domain specific protocol specification.</p>
<h2 id="reference">Reference<a class="headerlink" href="#reference" title="Permanent link">&para;</a></h2>
<h3 id="message-type-and-protocol-identifier-uris">Message Type and Protocol Identifier URIs<a class="headerlink" href="#message-type-and-protocol-identifier-uris" title="Permanent link">&para;</a></h3>
<p>Message types and protocols are identified with URIs that match certain
conventions.</p>
<h4 id="mturi">MTURI<a class="headerlink" href="#mturi" title="Permanent link">&para;</a></h4>
<p>A <strong>message type URI</strong> (MTURI) identifies message types unambiguously.
Standardizing its format is important because it is parsed by agents that
will map messages to handlers--basically, code will look at this string and
say, "Do I have something that can handle this message type inside protocol
<em>X</em> version <em>Y</em>?"</p>
<p>When this analysis happens, strings should be compared for byte-wise equality
in all segments except version. This means that case, unicode normalization,
and punctuation differences all matter. It is thus best practice to avoid
protocol and message names that differ only in subtle, easy-to-mistake ways.</p>
<p>Comparison of the version segment of an MTURI or PIURI should follow semver
rules and is discussed in the <a href="#semver-rules-for-protocols">semver section</a> of this document.</p>
<p>The URI MUST be composed as follows:</p>
<p><img alt="MTURI structure" src="mturi-structure.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nc">message-type-uri</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nc">doc-uri</span><span class="w"> </span><span class="nc">delim</span><span class="w"> </span><span class="nc">protocol-name</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="l">&quot;/&quot;</span><span class="w"> </span><span class="nc">protocol-version</span><span class="w"> </span><span class="l">&quot;/&quot;</span><span class="w"> </span><span class="nc">message-type-name</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nc">delim</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="l">&quot;?&quot;</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="l">&quot;/&quot;</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="l">&quot;&amp;&quot;</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="l">&quot;:&quot;</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="l">&quot;;&quot;</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="l">&quot;=&quot;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="nc">protocol-name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nc">identifier</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="nc">protocol-version</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nc">semver</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="nc">message-type-name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">identifier</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="nc">identifier</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nc">alpha</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="nc">alphanum</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="l">&quot;_&quot;</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="l">&quot;-&quot;</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="l">&quot;.&quot;</span><span class="p">)</span><span class="w"> </span><span class="nc">alphanum</span><span class="p">)</span>
</code></pre></div>
<p>It can be loosely matched and parsed with the following regex:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>    (.*?)([a-z0-9._-]+)/(\d[^/]*)/([a-z0-9._-]+)$
</code></pre></div>
<p>A match will have captures groups of (1) = <code>doc-uri</code>, (2) = <code>protocol-name</code>,
(3) = <code>protocol-version</code>, and (4) = <code>message-type-name</code>.</p>
<p>The goals of this URI are, in descending priority:</p>
<ul>
<li>
<p>Code can use the URI to route messages to protocol
handlers using <a href="#semver-rules-for-protocols">semver rules</a>.</p>
</li>
<li>
<p>The definition of a protocol should be tied to the URI such
that it is semantically stable. This means that once version 1.0
of a protocol is defined, its definition <a href="#semver-rules-for-protocols">should not change in ways that would break implementations</a>.</p>
</li>
<li>
<p>Developers can discover information about novel protocols, using
the URI to browse or search the web.</p>
</li>
</ul>
<p>The <code>doc-uri</code> portion is any URI that exposes documentation about
protocols. A developer should be able to browse to that URI and use human intelligence
to look up the named and versioned protocol. Optionally and preferably, the
full URI may produce a page of documentation about the specific message type,
with no human mediation involved.</p>
<h4 id="piuri">PIURI<a class="headerlink" href="#piuri" title="Permanent link">&para;</a></h4>
<p>A shorter URI that follows the same conventions but lacks the
<code>message-type-name</code> portion is called a <strong>protocol identifier URI</strong>
(PIURI).</p>
<p><img alt="PIURI structure" src="piuri-structure.png" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nc">protocol-identifier-uri</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nc">doc-uri</span><span class="w"> </span><span class="nc">delim</span><span class="w"> </span><span class="nc">protocol-name</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="l">&quot;/&quot;</span><span class="w"> </span><span class="nc">semver</span>
</code></pre></div>
<p>Its loose matcher regex is:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>    (.*?)([a-z0-9._-]+)/(\d[^/]*)/?$
</code></pre></div>
<p>The following are examples of valid MTURIs and PIURIs:</p>
<ul>
<li><code>http://example.com/protocols?which=lets_do_lunch/1.0/</code> (PIURI with fully automated lookup of protocol docs)</li>
<li><code>http://example.com/message_types?which=lets_do_lunch/1.0/proposal</code> (MTURI)</li>
<li><code>https://github.com/hyperledger/aries-rfcs/tree/18c4f82:trust_ping/1.0/ping</code>
   (MTURI). Note that this URI returns a 404 error if followed directly--but
   per rules described above, the developer should browse to the doc root
   (<a href="https://github.com/hyperledger/aries-rfcs/tree/18c4f82">https://github.com/hyperledger/aries-rfcs/tree/18c4f82</a>) and look for documentation on the <code>trust_ping/1.0</code> protocol.</li>
<li><code>https://didcomm.org/trust_ping/1.0/ping</code> (MTURI) This
   uses an https reference that could serve
   information about protocols.</li>
</ul>
<h3 id="semver-rules-for-protocols">Semver Rules for Protocols<a class="headerlink" href="#semver-rules-for-protocols" title="Permanent link">&para;</a></h3>
<p><a href="https://semver.org">Semver</a> rules apply to protocols, with the version of a protocol is expressed
in the <code>semver</code> portion of its <a href="#message-type-and-protocol-identifier-uris">identifying URI</a>.
The <a href="#ingredients">"ingredients"</a> of a protocol combine to form a
<a href="https://semver.org/#spec-item-1">public API in the semver sense</a>. Core Aries protocols
specify only major and minor elements in a version; the patch component is not used. Non-core
protocols may choose to use the patch element.</p>
<p>The major and minor versions of protocols match semver semantics:</p>
<ul>
<li>Clarification updates that do not change the "public API" of the protocol can be made
with community support <em>without</em> changing the minor version of the protocol.</li>
<li>An individual message type can add new optional fields, or deprecate
existing fields, <a href="https://semver.org/#spec-item-7">with only a change to its protocol's minor
version</a>. Similarly, a protocol can
add new or deprecate message types with only a change to the minor version.</li>
<li>Changes that remove fields or message types, that make formerly optional
things required, or that alter the state machine in incompatible
ways, must result in an <a href="https://semver.org/#spec-item-8">increase of the major version of the protocol/primary
message family</a>.</li>
</ul>
<p>Within a given major version of a protocol, an agent should:</p>
<ul>
<li>Respond to a minimum supported minor version, defaulting to "0".</li>
<li>An agent SHOULD keep minimum supported minor version at "0" unless it is unsecure or extremely complicated to do so.</li>
<li>Respond with or initiate a protocol instance the current fully supported minor version.</li>
</ul>
<p>This leads to the following received message handling rules:</p>
<ul>
<li>Message types received with minor versions below the minimum MAY be ignored, or preferably, MAY be answered only with a <code>problem-report</code> message with code <code>version-not-supported</code>.</li>
<li>Message types received with a minor version <strong>at or higher than</strong> the minimum supported <strong>and less than</strong> the current minor version are processed as follows:</li>
<li>The processing MAY be with the same minor version of the received message.<ul>
<li>To support this, an implementation must implement each minor version from minimum to current within the major version.</li>
</ul>
</li>
<li>The processing MAY be with the current minor version (higher than received).<ul>
<li>This approach is used when maintaining each minor version from minimum to current within the major version is impractical.</li>
<li>Recipients of the response message SHOULD detect from the response <a href="#piuri">PIURI</a> that a higher minor version was used in the response, and to compensate if needed and as necessary.</li>
<li>Prior wording of this protocol included the following suggestion that is now considered deprecated. See note below about deprecating the "warning" problem reports.</li>
<li>In addition to responding with the protocol message (if necessary), the agent MAY also want to send a warning <code>problem-report</code> message with code <code>version-with-degraded-../../features</code>.</li>
</ul>
</li>
<li>Message types received with a minor version higher than the current minor version MUST be processed with any unrecognized fields ignored.</li>
<li>The response MUST use the current minor version.</li>
<li>Recipients of the response message SHOULD detect from the response <a href="#piuri">PIURI</a> that a lower minor version was used in the response, and to compensate if needed and as necessary.</li>
<li>Prior wording of this protocol included the following that is now considered deprecated. See note below about deprecating the "warning" problem reports.<ul>
<li>In addition to responding with the protocol message, an agent MAY send a warning <code>problem-report</code> message with code <code>fields-ignored-due-to-version-mismatch</code></li>
</ul>
</li>
</ul>
<p><strong>Note:</strong> The deprecation of the "warning" <code>problem-reports</code> in cases of minor
version mismatches is because the recipient of the response can detect the
mismatch by looking at the <a href="#piuri">PIURI</a>, making the "warning" unnecessary,
and because the <code>problem-report</code> message may be received after (and definitely
at a different time than) the response message, and so the warning is of very
little value to the recipient. Recipients should still be aware that minor
version mismatch warning <code>problem-report</code> messages may be received and handle
them appropriately, likely by quietly ignoring them.</p>
<p>As documented in the semver documentation, these requirements are not applied when
major version 0 is used. In that case, minor version increments are considered breaking.</p>
<p>Agents may support multiple major versions and select which major version to
use when initiating an instance of the protocol.</p>
<p>An agent should reject messages from protocols or unsupported protocol major versions with
a <code>problem-report</code> message with code <code>version-not-supported</code>. Agents that receive such a
<code>problem-report</code> message may use the <a href="../../features/0031-discover-features/">discover ../../features protocol</a>
to resolve the mismatch.</p>
<h4 id="semver-examples">Semver Examples<a class="headerlink" href="#semver-examples" title="Permanent link">&para;</a></h4>
<h5 id="initiator">Initiator<a class="headerlink" href="#initiator" title="Permanent link">&para;</a></h5>
<p>Unless Alice's agent (the initiator of a protocol) knows from prior history
that it should do something different, it should begin a protocol using the
highest version number that it supports. For example, if A.1
supports versions 2.0 through 2.2 of protocol X, it should use 2.2 as the
version in the message type of its first message.</p>
<h5 id="recipient-rules">Recipient Rules<a class="headerlink" href="#recipient-rules" title="Permanent link">&para;</a></h5>
<p>Agents for Bob (the recipient) should reject messages from protocols with major
versions different from those they support. For major version 0, they should also
reject protocols with minor versions they don't support, since semver stipulates
that <a href="https://semver.org/#spec-item-4">../../features are not stable before 1.0</a>. For
example, if B.1 supports only versions 2.0 and 2.1 of protocol X, it should reject
any messages from version 3 or version 1 or 0. In most cases, rejecting a message
means sending a <code>problem-report</code> that the message is unsupported. The <code>code</code> field
in such messages should be <code>version-not-supported</code>. Agents that receive such a
<code>problem-report</code> can then use the <a href="../../features/0031-discover-features/">Discover Features Protocol</a> to resolve version problems.</p>
<p>Recipient agents should accept messages that differ from their own supported version
of a protocol only in the patch, prerelease, and/or build fields, whether these
differences make the message earlier or later than the version the recipient prefers.
These messages will be robustly compatible.</p>
<p>For major version &gt;= 1, recipients should also accept messages that differ only in that
the message's minor version is earlier than their own preference. In such a case, the
recipient should degrade gracefully to use the earlier version of the protocol. If the
earlier version lacks important ../../features, the recipient may optionally choose to send,
in addition to a response, a <code>problem-report</code> with code <code>version-with-degraded-../../features</code>.</p>
<p>If a recipient supports protocol X version 1.0, it should tentatively
accept messages with later minor versions (e.g., 1.2). Message types that
differ in only in minor version are guaranteed to be compatible <em>for the
feature set of the earlier version</em>. That is, a 1.0-capable agent can support
1.0 ../../features using a 1.2 message, though of course it will lose any ../../features
that 1.2 added. Thus, accepting such a message could have two possible outcomes:</p>
<ol>
<li>
<p>The message at version 1.2 might look and behave exactly like it did at version
1.0, in which case the message will process without any trouble.</p>
</li>
<li>
<p>The message might contain some fields that are unrecognized and need to be ignored.</p>
</li>
</ol>
<p>In case 2, it is best practice for the recipient to send a <code>problem-report</code> that
is a <em>warning</em>, not an <em>error</em>, announcing that some fields could not be processed
(code = <code>fields-ignored-due-to-version-mismatch</code>). Such a message is <em>in addition
to</em> any response that the protocol demands of the recipient.</p>
<p>If the recipient of a protocol's initial message generates a response, the response
should use the latest major.minor protocol version that both parties support and
know about. Generally, all messages after the first use only major.minor</p>
<p><a href="https://docs.google.com/spreadsheets/d/1W5KYOqCCqmTeU4Z7XZQH9_6_0TeP5Vf5TtsOZmioyB0/edit#gid=0"><img alt="version negotiation matrix" src="version-negotiation-matrix.png" /></a></p>
<h3 id="state-details-and-state-machines">State Details and State Machines<a class="headerlink" href="#state-details-and-state-machines" title="Permanent link">&para;</a></h3>
<p>While some protocols have only one sequence of states to manage, in most
different roles perceive the interaction differently. The sequence of states
for each role needs to be described with care in the RFC.</p>
<h4 id="state-machines">State Machines<a class="headerlink" href="#state-machines" title="Permanent link">&para;</a></h4>
<p>By convention, protocol state and sequence rules are described using the
concept of state machines, and we encourage developers who implement
protocols to build them that way.</p>
<p>Among other benefits, this helps with error handling: when one agent
sends a <a href="../../features/0035-report-problem/"><code>problem-report</code> message</a>
to another, the message can make it crystal clear which state it
has fallen back to as a result of the error.</p>
<p>Many developers will have encountered a formal of definition of state machines as
they wrote parsers or worked on other highly demanding tasks, and may worry
that state machines are heavy and intimidating. But as they are used in
Aries protocols, state machines are straightforward and elegant. They
cleanly encapsulate logic that would otherwise be a bunch of conditionals
scattered throughout agent code. The <a href="tictactoe/">tictactoe example protocol</a>
example includes a complete state machine in less than 50
lines of <a href="tictactoe/state_machine.py">python code</a>, with <a href="tictactoe/test_state_machine.py">tests</a>.</p>
<p>For an extended discussion of how state machines can be used, including in nested
protocols, and with hooks that let custom processing happen at each point in
a flow, see <a href="https://github.com/dhh1128/distributed-state-machine/blob/master/README.md">https://github.com/dhh1128/distributed-state-machine</a>.</p>
<h4 id="processing-points">Processing Points<a class="headerlink" href="#processing-points" title="Permanent link">&para;</a></h4>
<p>A protocol definition describes key points in the flow where business logic
can attach. Some of these <strong>processing points</strong> are obvious, because the
protocol makes calls for decisions to be made. Others are implicit. Some examples
include:</p>
<ul>
<li>The <em>beginning</em> and <em>end</em>.</li>
<li>The <em>launch of a subprotocol</em>.</li>
<li>The <em>completion of a subprotocol</em>, or the <em>subprotocol changing state</em>.</li>
<li><em>Sending a message</em>. (For each send, the sender could choose to go silent
and abandon the interaction instead, though many
protocols would ask for notification to be emitted as best practice.)</li>
<li>(Receiving a message_. (Requires validation, then integration
with policy and processes internal to the agent and its sovereign domain,
to move the interaction forward.)</li>
</ul>
<h3 id="roles-participants-parties-and-controllers">Roles, Participants, Parties, and Controllers<a class="headerlink" href="#roles-participants-parties-and-controllers" title="Permanent link">&para;</a></h3>
<h4 id="roles">Roles<a class="headerlink" href="#roles" title="Permanent link">&para;</a></h4>
<p>The <strong>roles</strong> in a protocol are the perspectives (responsibilities, privileges) that parties take in an
interaction.</p>
<p>This perspective is manifested in three general ways:</p>
<ul>
<li>by the expectations that a party takes on in a protocol (ex. a role may be expected to do something to start a protocol).</li>
<li>by the messages that a party can and does use in the course of the protocol (some messages may be reserved for a single role, while other may used by some if not all roles).</li>
<li>by the state and the transition rules</li>
</ul>
<p>Like parties, roles are normally known at the start of the protocol but this is not a requirement.</p>
<p>In an auction protocol, there are only two roles&mdash;<em>auctioneer</em> and <em>bidder</em>&mdash;even though there may be many parties involved.</p>
<h4 id="participants">Participants<a class="headerlink" href="#participants" title="Permanent link">&para;</a></h4>
<p>The <strong>participants</strong> in a protocol are the agents that send and/or receive
<a href="../../features/0044-didcomm-file-and-mime-types/">plaintext application-level messages</a>
that embody the protocol's interaction. Alice, Bob, and
Carol may each have a cloud agent, a laptop, and a phone; if they engage in an
introduction protocol using phones, then the agents on their phones are the participants.
If the phones talk directly over Bluetooth, this is particularly clear--but even if the
phones leverage push notifications and HTTP such that cloud agents help with routing,
only the phone agents are participants, because only they maintain state for the
interaction underway. (The cloud agents would be <strong>facilitators</strong>, and the laptops would
be <strong>bystanders</strong>). When a protocol is complete, the participant agents know about the
outcome; they may need to synchronize or replicate their state before other agents of the
parties are aware.</p>
<h4 id="parties">Parties<a class="headerlink" href="#parties" title="Permanent link">&para;</a></h4>
<p>The <strong>parties</strong> to a protocol are the entities directly responsible for achieving the protocol's goals.
When a protocol is high-level, parties are typically people or organizations; as protocols become lower-level,
parties may be specific agents tasked with detail work through delegation.</p>
<p>Imagine a situation where Alice wants a vacation. She engages with a travel agent named Bob. Together, they
begin an "arrange a vacation" protocol. Alice is responsible for expressing her parameters and proving her willingness to
pay; Bob is responsible for running a bunch of subprotocols to work out the details. Alice and Bob--not software
agents they use--are parties to this high-level protocol, since they share responsibility for its goals.</p>
<p>As soon as Alice has provided enough direction and hangs up the phone, Bob begins a sub-protocol with a hotel to book
a room for Alice. This sub-protocol has related but different goals--it is about booking a particular hotel room, not
about the vacation as a whole. We can see the difference when we consider that Bob could abandon the booking and choose
a different hotel entirely, without affecting the overarching "arrange a vacation" protocol.</p>
<p>With the change in goal, the parties have now changed, too. Bob and a hotel concierge are the ones responsible
for making the "book a hotel room" protocol progress. Alice is an approver and indirect stakeholder, but she is
not doing the work. (In <a href="https://en.wikipedia.org/wiki/Responsibility_assignment_matrix">RACI terms</a>,
Alice is an "accountable" or "approving" entity, but only Bob and the concierge are "responsible" parties.)</p>
<p>Now, as part of the hotel reservation, Bob tells the concierge that the guest would like access to a waverunner
to play in the ocean on day 2. The concierge engages in a sub-sub-protocol to reserve the waverunner. The
goal of this sub-sub-protocol is to reserve the equipment, not to book a hotel or arrange a vacation. The parties to this
sub-sub-protocol are the concierge and the person or automated system that manages waverunners.</p>
<p>Often, parties are known at the start of a protocol; however, that is not a requirement. Some protocols might commence
with some parties not yet known or assigned.</p>
<p>For many protocols, there are only two parties, and they are in a pairwise relationship. Other protocols
are more complex. Introductions involves three; an auction may involve many.</p>
<p>Normally, the parties that are involved in a protocol also participate in the interaction but this is not always the
case. Consider a gossip protocol, two parties may be talking about a third party. In this case, the third party would
not even know that the protocol was happening and would definitely not participate.</p>
<h4 id="controllers">Controllers<a class="headerlink" href="#controllers" title="Permanent link">&para;</a></h4>
<p>The <strong>controllers</strong> in a protocol are entities that make decisions. They may or may not be direct parties.</p>
<p>Imagine a remote chess game between Bob and Carol, conducted with software agents. The chess protocol isn't
technically about <em>how to select a wise chess move</em>; it's about <em>communicating the moves</em> so parties achieve
the shared goal of running a game to completion. Yet choices about moves are clearly made as the protocol
unfolds. These choices are made by controllers--Bob and Carol--while the agents responsible for the work of
moving the game forward wait with the protocol suspended.</p>
<p>In this case, Bob and Carol could be analyzed as parties to the protocol, as well as controllers. But in other
cases, the ../../concepts are distinct. For example, in a protocol to issue credentials, the issuing institution
might use an AI and/or business automation as a controller.</p>
<h3 id="instructions-for-protocol-rfcs">Instructions for Protocol RFCs<a class="headerlink" href="#instructions-for-protocol-rfcs" title="Permanent link">&para;</a></h3>
<p>A protocol RFC conforms to general RFC patterns, but includes some specific substructure.</p>
<p><a href="https://docs.google.com/presentation/d/15UAkh_2WfDk7wlto7pSL7YU9NJr_XVMgGAOeNIRbzK8/edit#slide=id.g5609c67f13_0_113"><img alt="template sections" src="template-sections.png" /></a></p>
<p>Please see the <a href="../../0000-template-protocol/">special protocol RFC template</a> for details.</p>
<h2 id="drawbacks">Drawbacks<a class="headerlink" href="#drawbacks" title="Permanent link">&para;</a></h2>
<p>This RFC creates some formalism around defining protocols. It doesn't go
nearly as far as SOAP or CORBA/COM did, but it is slightly more demanding
of a protocol author than the familiar world of RESTful <a href="https://swagger.io/docs/specification/about/">Swagger/OpenAPI</a>.</p>
<p>The extra complexity is justified by the greater demands that agent-to-agent
communications place on the protocol definition. See notes in <a href="#swagger--openapi">Prior Art</a>
section for details.</p>
<h2 id="rationale-and-alternatives">Rationale and alternatives<a class="headerlink" href="#rationale-and-alternatives" title="Permanent link">&para;</a></h2>
<p>Some of the simplest DIDComm protocols could be specified in a Swagger/OpenAPI
style. This would give some nice tooling. However, not all fit into that
mold. It may be desirable to create conversion tools that allow Swagger
interop.</p>
<h2 id="prior-art">Prior art<a class="headerlink" href="#prior-art" title="Permanent link">&para;</a></h2>
<h3 id="bpmn">BPMN<a class="headerlink" href="#bpmn" title="Permanent link">&para;</a></h3>
<p><a href="https://en.wikipedia.org/wiki/Business_Process_Model_and_Notation">BPMN</a> (Business Process Model and Notation) is a
graphical language for modeling flows of all types (plus things less like
our protocols as well). BPMN is a mature standard sponsored by <a href="https://en.wikipedia.org/wiki/Object_Management_Group">OMG</a>(Object Management Group). It has a nice
tool ecosystem (such as <a href="https://camunda.com/bpmn/tool/">this</a>). It also has an XML file
format, so the visual diagrams have a two-way transformation to and from
formal written language. And it has a code generation mode, where BPMN
can be used to drive executable behavior if diagrams are sufficiently
detailed and sufficiently standard. (Since BPMN supports various extensions
and is often used at various levels of formality, execution is not its most
common application.)</p>
<p>BPMN began with a focus on centralized processes
(those driven by a business entity), with diagrams organized around the goal
of the point-of-view entity and what they experience in the interaction. This
is somewhat different from a DIDComm protocol where any given entity may experience
the goal and the scope of interaction differently; the state machine for a
home inspector in the "buy a home" protocol is <em>quite</em> different, and somewhat
separable, from the state machine of the buyer, and that of the title insurance
company.</p>
<p>BPMN 2.0 introduced the notion of a <a href="https://www.visual-paradigm.com/guide/bpmn/bpmn-orchestration-vs-choreography-vs-collaboration/#bpmn-choreography">choreography</a>,
which is much closer to the concept of an A2A protocol, and which has quite
an elegant and intuitive visual representation. However, even a BPMN
choreography doesn't have a way to discuss interactions with decorators,
adoption of generic messages, and other A2A-specific concerns. Thus, we may
lean on BPMN for some diagramming tasks, but it is not a substitute for the
RFC definition procedure described here.</p>
<h3 id="wsdl">WSDL<a class="headerlink" href="#wsdl" title="Permanent link">&para;</a></h3>
<p><a href="https://www.w3.org/TR/2001/NOTE-wsdl-20010315">WSDL</a> (Web Services Description Language) is a web-centric
evolution of earlier, RPC-style interface definition languages like
<a href="https://en.wikipedia.org/wiki/Interface_description_language">IDL in all its varieties</a>
and <a href="https://en.wikipedia.org/wiki/Common_Object_Request_Broker_Architecture">CORBA</a>.
These technologies describe a <em>called</em> interface, but they don't describe
the caller, and they lack a formalism for capturing state changes, especiall
by the caller. They are also out of favor in the programmer community at
present, as being too heavy, <a href="https://codecraft.co/2008/07/29/decoupling-interfaces-as-versions-evolve-part-1/">too fragile</a>,
or poorly supported by current tools.</p>
<h3 id="swagger-openapi">Swagger / OpenAPI<a class="headerlink" href="#swagger-openapi" title="Permanent link">&para;</a></h3>
<p><a href="https://swagger.io/docs/specification/about/">Swagger / OpenAPI</a> overlaps
with some of the concerns of protocol definition in agent-to-agent
 interactions. We like the tools and the convenience of the paradigm
 offered by OpenAPI, but where these two do not overlap, we have impedance.</p>
<p>Agent-to-agent protocols must support more than 2 roles, or
 two roles that are peers, whereas RESTful web services assume just client
 and server--and only the server has a documented API.</p>
<p>Agent-to-agent protocols are fundamentally asynchronous,
 whereas RESTful web services mostly assume synchronous request~response.</p>
<p>Agent-to-agent protocols have complex considerations for diffuse trust,
 whereas RESTful web services centralize trust in the web server.</p>
<p>Agent-to-agent protocols need to support transports beyond HTTP, whereas
 RESTful web services do not.</p>
<p>Agent-to-agent protocols are nestable, while
 RESTful web services don't provide any special support for that construct.</p>
<h3 id="other">Other<a class="headerlink" href="#other" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://github.com/pdef/pdef">Pdef (Protocol Definition Language)</a>: An alternative to Swagger.</li>
<li><a href="https://www.jsonrpc.org/specification">JSON RPC</a>: Defines how invocation of
 remote methods can be accomplished by passing JSON messages. However, the
 RPC paradigm assumes request/response pairs, and does not provide a way
 to describe state and roles carefully.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/IPDL">IPC Protocol Definition Language (IPDL)</a>:
 This is much closer to agent protocols in terms of its scope of concerns
 than OpenAPI. However, it is C++ only, and intended for use within browser
 plugins.</li>
</ul>
<h2 id="unresolved-questions">Unresolved questions<a class="headerlink" href="#unresolved-questions" title="Permanent link">&para;</a></h2>
<ul>
<li>Should we write a Swagger translator?</li>
<li>If not swagger, what formal definition format should we use in the future?</li>
</ul>
<h2 id="implementations">Implementations<a class="headerlink" href="#implementations" title="Permanent link">&para;</a></h2>
<p>The following lists the implementations (if any) of this RFC. Please do a pull request to add your implementation. If the implementation is open source, include a link to the repo or to the implementation within the repo. Please be consistent in the "Name" field so that a mechanical processing of the RFCs can generate a list of all RFCs supported by an Aries implementation.</p>
<table>
<thead>
<tr>
<th>Name / Link</th>
<th>Implementation Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/hyperledger/indy-agent/python">Indy Cloud Agent - Python</a></td>
<td>several protocols, circa Feb 2019</td>
</tr>
<tr>
<td><a href="https://github.com/hyperledger/aries-framework-dotnet">Aries Framework - .NET</a></td>
<td>several protocols, circa Feb 2019</td>
</tr>
<tr>
<td><a href="https://streetcred.id/">Streetcred.id</a></td>
<td>several protocols, circa Feb 2019</td>
</tr>
<tr>
<td><a href="https://github.com/hyperledger/aries-cloudagent-python">Aries Cloud Agent - Python</a></td>
<td>numerous protocols plus extension mechanism for pluggable protocols</td>
</tr>
<tr>
<td><a href="https://github.com/hyperledger/aries-staticagent-python">Aries Static Agent - Python</a></td>
<td>2 or 3 protocols</td>
</tr>
<tr>
<td><a href="https://github.com/hyperledger/aries-framework-go">Aries Framework - Go</a></td>
<td>DID Exchange</td>
</tr>
<tr>
<td><a href="https://www.evernym.com/blog/connect-me-sovrin-digital-wallet/">Connect.Me</a></td>
<td>mature but proprietary protocols; community protocols in process</td>
</tr>
<tr>
<td><a href="https://www.evernym.com/products/">Verity</a></td>
<td>mature but proprietary protocols; community protocols in process</td>
</tr>
<tr>
<td><a href="https://github.com/hyperledger/aries-protocol-test-suite">Aries Protocol Test Suite</a></td>
<td>2 or 3 core protocols; active work to implement all that are ACCEPTED, since this tests conformance of other agents</td>
</tr>
<tr>
<td><a href="http://picolabs.io/">Pico Labs</a></td>
<td><a href="https://github.com/Picolab/G2S">implemented</a> protocols: connections, trust_ping, basicmessage, routing</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../SECURITY/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Security">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Security
              </div>
            </div>
          </a>
        
        
          
          <a href="../0004-agents/" class="md-footer__link md-footer__link--next" aria-label="Next: Aries RFC 0004 Agents">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Aries RFC 0004 Agents
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.expand", "navigation.footer", "navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.a7c05c9e.min.js"></script>
      
    
  </body>
</html>